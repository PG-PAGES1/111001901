window.__require=function e(t,n,o){function i(r,s){if(!n[r]){if(!t[r]){var c=r.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var p=n[r]={exports:{}};t[r][0].call(p.exports,function(e){return i(t[r][1][e]||e)},p,p.exports,e,t,n,o)}return n[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<o.length;r++)i(o[r]);return i}({AdjustUI111001901:[function(e,t,n){"use strict";cc._RF.push(t,"ed8adpdHU9OU5IZ6uPWL3r9","AdjustUI111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.freeLabelNode=null,t}return i(t,e),t.prototype.onLoad=function(){var e=slot.GData.curLanguage;"ru"!=e&&"de"!=e&&"fi"!=e&&"no"!=e&&"ro"!=e||(this.freeLabelNode.scale=.85)},t.prototype.start=function(){},a([c(cc.Node)],t.prototype,"freeLabelNode",void 0),a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],Banner111001901:[function(e,t,n){"use strict";cc._RF.push(t,"f2e42C00eZOrI50LCynPOaC","Banner111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./GameEventName111001901"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return i(t,e),n=t,t.prototype.showStart=function(){game.EventManager.getInstance().addEventListener(r.EventName.GAME_SPIN_START,this.onStartSpin,this),this.bannerLabel.node.active=!0,this.setInfo("aaa",0)},t.prototype.onLoad=function(){e.prototype.onLoad.call(this),n.instance=this,this.showStart()},t.prototype.onStartSpin=function(){this.setInfo("aaa",1),game.EventManager.getInstance().removeEventListener(r.EventName.GAME_SPIN_START,this.onStartSpin,this)},t.prototype.hideBanner=function(){this.unscheduleAllCallbacks(),this.bannerLabel.node.active=!1},t.instance=null,n=a([c],t)}(slot.SlotBanner));n.default=l,cc._RF.pop()},{"./GameEventName111001901":"GameEventName111001901"}],BatchMgr111001901:[function(e,t,n){"use strict";cc._RF.push(t,"93515unTc9GNaKdoGdDhfQ1","BatchMgr111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){var e=slot.ScoreBase.instance;(function e(t,n){t.children.forEach(function(t){var o=t.getComponent(cc.Label);o&&(o.cacheMode=n),t.children.length>0&&e(t,n)})})(e.node,cc.Label.CacheMode.BITMAP),e.node.children.sort(function(e){return"New Sprite"==e.name?-1:1}),e.node.children[0].width=243,e.node.children[1].width=243,e.node.children[2].width=243,e.node.children[0].height=58,e.node.children[1].height=58,e.node.children[2].height=58,e.node.children[2].x=-248,e.node.children[0].x=248,e.node.children[1].x=0},a([s],t)}(slot.BaseView));n.default=c,cc._RF.pop()},{}],CollectElem111001901:[function(e,t,n){"use strict";cc._RF.push(t,"7dfa6hTeSxN76LszvweXmkE","CollectElem111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../common/GameEventName111001901"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tmpSkData=[],t.attackLizi=null,t.attackEff=null,t.elemArray=[],t.isCollectOn=!1,t.curLang="",t.callBack=null,t.animaName={5:"default",6:"default",7:"default",8:"default",9:"default",10:"default",11:"default"},t.animaScale={5:.36,6:.36,7:.7,8:.36,9:.36,10:.9,11:.9},t.attackPos=null,t.bFirstAttack=!0,t}var n;return i(t,e),n=t,t.prototype.onLoad=function(){var e=this;n.instance=this,game.EventManager.getInstance().addEventListener(r.EventName.COLLECT_ELEM,this.onCollectElem,this),this.attackPos=cc.v3(0,400,0),this.attackEff.setCompleteListener(function(){e.attackEff.node.active=!1}),this.curLang=slot.GData.curLanguage},t.prototype.start=function(){},t.prototype.reset=function(){this.elemArray.forEach(function(e){e.forEach(function(e){e.destroy()})}),delete this.elemArray,this.elemArray=[],this.isCollectOn=!1},t.prototype.onCollectElem=function(e,t){if(this.isCollectOn){this.elemArray[t.data]||(this.elemArray[t.data]=[]);var n=new cc.Node,o=n.addComponent(sp.Skeleton);10==t.data&&"zh"==this.curLang?o.skeletonData=this.tmpSkData[11]:o.skeletonData=this.tmpSkData[t.data],o.setAnimation(0,this.animaName[t.data],!0),o.premultipliedAlpha=!0,o.enableBatch=!0,o.setAnimationCacheMode(sp.Skeleton.AnimationCacheMode.SHARED_CACHE),n.parent=this.node,n.scale=this.animaScale[t.data],n.active=!1;var i=t.parent.convertToWorldSpaceAR(t.position);n.position=this.node.convertToNodeSpaceAR(i),this.elemArray[t.data].push(n)}},t.prototype.playAttack=function(){var e=this,t=this;this.bFirstAttack=!0;var n=0;this.elemArray.forEach(function(o,i){if(slot.SoundMger.instance.playEffect("Symbol_HightLight",!1),10==i||11==i)o.forEach(function(e){e.active=!0,e.getComponent(sp.Skeleton).setAnimation(0,t.animaName[i],!1),cc.tween(e).to(1,{opacity:0}).removeSelf().start()});else if(o.length>1){var a=0,r=0,s=0,c=0;o.forEach(function(e){a=Math.max(a,e.x),r=Math.max(r,e.y),s=Math.min(s,e.x),c=Math.min(c,e.y)});var l=(a+s)/2,p=(r+c)/2,u=0,d=.5;7==i&&(d=.7),o.forEach(function(t){t.getComponent(sp.Skeleton).setAnimation(0,e.animaName[i],!1),t.active=!0,cc.tween(t).delay(.2*n).to(.1,{scale:d}).to(.2,{x:l,y:p}).call(function(){++u>=o.length&&(e.playCollectOne(t,i,n),slot.SoundMger.instance.playEffect("Symbol_Combine",!1))}).removeSelf().start()}),n++}else o[0].active=!0,o[0].getComponent(sp.Skeleton).setAnimation(0,e.animaName[i],!1),e.playCollectOne(o[0],i,n),n++})},t.prototype.playCollectOne=function(e,t,n){var o=this;console.log("index = ",n);var i=cc.instantiate(e);i.parent=this.node,i.getComponent(sp.Skeleton).setAnimation(0,this.animaName[t],!1),i.getComponent(sp.Skeleton).premultipliedAlpha=!0;var a=.4;7==t&&(a=.7),cc.tween(i).to(.2,{scale:a+.2}).to(.2,{scale:a+.1}).delay(.2*n).to(.3,{position:this.attackPos,scale:a}).call(function(){o.playAttackEffect(),o.callBack&&o.callBack.run()}).removeSelf().start()},t.prototype.playAttackEffect=function(){this.attackEff.node.active=!0,this.attackEff.setAnimation(0,"yanhua",!1),this.attackLizi.resetSystem(),this.bFirstAttack&&(slot.SoundMger.instance.playEffect("Symbol_Hit",!1),this.bFirstAttack=!1,game.EventManager.getInstance().raiseEvent(r.EventName.MEDUSA_SKILL,1))},t.instance=null,a([l(sp.SkeletonData)],t.prototype,"tmpSkData",void 0),a([l(cc.ParticleSystem)],t.prototype,"attackLizi",void 0),a([l(sp.Skeleton)],t.prototype,"attackEff",void 0),n=a([c],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../common/GameEventName111001901":"GameEventName111001901"}],ComUtils111001901:[function(e,t,n){"use strict";cc._RF.push(t,"0b78cEEJMpOTaelwJ8SrHyk","ComUtils111001901"),Object.defineProperty(n,"__esModule",{value:!0}),n.ComUtils111001901=void 0;var o=function(){function e(){}return e.getIntRandomNoLoop=function(e,t,n,o){for(var i=[],a=[],r=function(t){null==e.find(function(e){return e==t})&&a.push(t)},s=t;s<=n;s++)r(s);for(;i.length<o;){var c=a.length;if(0==c){for(s=i.length;s<e.length;s++)i[s]=e[s];break}var l=game.ComUtils.getIntRandom(0,c-1);i.push(a[l]),a.splice(l,1)}return i},e.GetAngleTwoPos=function(e,t){var n=Math.abs(e.x-t.x),o=Math.abs(e.y-t.y),i=Math.sqrt(n*n+o*o);return Math.round(Math.asin(o/i)/Math.PI*180)},e.getAngle=function(e,t,n,o){var i,a=document.getElementsByClassName("active-ele")[0].getBoundingClientRect(),r=a.x,s=a.y,c=r+a.width/2,l=s+a.height/2,p=180*Math.atan2(t-l,e-c)/Math.PI,u=180*Math.atan2(o-l,n-c)/Math.PI;return p=p<=-90?360+p:p,u=u<=-90?360+u:u,(i=Math.floor(u-p))<0?i+360:i},e.copyArray=function(e,t){for(var n=0;n<t.length;n++)e[n]=t[n]},e}();n.ComUtils111001901=o,cc._RF.pop()},{}],EffectLayer111001901:[function(e,t,n){"use strict";cc._RF.push(t,"469e1v4KD1ICp+eS8XGQU4T","EffectLayer111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../common/ComUtils111001901"),s=e("../common/GameEventName111001901"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wavesAnima=null,t.eyeLight=null,t.bloodAnima=[],t.free2WildAnima=null,t.free2StartAnima=null,t.free2WildShootAnima=null,t.ringAnima=[],t.dustAnimaA=[],t.dustAnimaB=[],t}var n;return i(t,e),n=t,t.prototype.onLoad=function(){var e=this;n.instance=this,game.EventManager.getInstance().addEventListener(s.EventName.ANIMA_EVENT_MOTION,this.onMedusaMotion,this),game.EventManager.getInstance().addEventListener(s.EventName.ANIMA_EVENT_BEING,this.onMedusaBeing,this),game.EventManager.getInstance().addEventListener(s.EventName.ANIMA_EVENT_PERIFYING,this.onPerifying,this),game.EventManager.getInstance().addEventListener(s.EventName.SHOW_BLOOD_ANIMA,this.onShowBlood,this),game.EventManager.getInstance().addEventListener(s.EventName.ANIMA_EVENT_FREE2START,this.onFree2Start,this),game.EventManager.getInstance().addEventListener(s.EventName.ANIMA_EVENT_FREE2WILD,this.onFree2Wild,this),game.EventManager.getInstance().addEventListener(s.EventName.ANIMA_EVENT_FREE2WILD_SHOOT,this.onFree2WildShoot,this),game.EventManager.getInstance().addEventListener(s.EventName.FREE_GAME_SPIN_STOP,this.onFreeGameSpinStop,this),game.EventManager.getInstance().addEventListener(s.EventName.FREE_GAME_SPIN_BEGIN,this.onFreeGameSpinBegin,this),this.wavesAnima.on(cc.Animation.EventType.FINISHED,function(){e.wavesAnima.node.active=!1}),this.bloodAnima.forEach(function(e){e.on(cc.Animation.EventType.FINISHED,function(){e.node.active=!1})}),this.free2StartAnima.on(cc.Animation.EventType.FINISHED,function(){e.free2WildAnima.play()}),this.free2WildShootAnima.on(cc.Animation.EventType.FINISHED,function(){e.free2WildShootAnima.node.opacity=0}),this.eyeLight.setCompleteListener(function(){e.eyeLight.node.active=!1})},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(s.EventName.ANIMA_EVENT_MOTION,this.onMedusaMotion,this),game.EventManager.getInstance().removeEventListener(s.EventName.ANIMA_EVENT_BEING,this.onMedusaBeing,this),game.EventManager.getInstance().removeEventListener(s.EventName.ANIMA_EVENT_PERIFYING,this.onPerifying,this),game.EventManager.getInstance().removeEventListener(s.EventName.SHOW_BLOOD_ANIMA,this.onShowBlood,this),game.EventManager.getInstance().removeEventListener(s.EventName.ANIMA_EVENT_FREE2START,this.onFree2Start,this),game.EventManager.getInstance().removeEventListener(s.EventName.ANIMA_EVENT_FREE2WILD,this.onFree2Wild,this),game.EventManager.getInstance().removeEventListener(s.EventName.ANIMA_EVENT_FREE2WILD_SHOOT,this.onFree2WildShoot,this),game.EventManager.getInstance().removeEventListener(s.EventName.FREE_GAME_SPIN_STOP,this.onFreeGameSpinStop,this),game.EventManager.getInstance().removeEventListener(s.EventName.FREE_GAME_SPIN_BEGIN,this.onFreeGameSpinBegin,this)},t.prototype.playRing=function(e){e<0||e>=this.ringAnima.length?console.error("playRing index = ",e):this.ringAnima[e].play()},t.prototype.playWaves=function(){this.wavesAnima.node.active=!0,this.wavesAnima.play("skill_waves")},t.prototype.onMedusaMotion=function(){this.playWaves()},t.prototype.onMedusaBeing=function(){},t.prototype.onPerifying=function(){this.eyeLight.node.active=!0,this.eyeLight.setAnimation(0,"eye_light",!1)},t.prototype.onShowBlood=function(){for(var e=0;e<1;e++){var t=game.ComUtils.getIntRandom(0,2);this.bloodAnima[t].node.active=!0,this.bloodAnima[t].play("bloodA")}},t.prototype.onFree2Start=function(){this.free2StartAnima.play()},t.prototype.onFree2Wild=function(){this.free2WildAnima.play()},t.prototype.onFree2WildShoot=function(e,t){this.free2WildShootAnima.node.opacity=255,this.free2WildShootAnima.play("wild_arrow"+t),slot.SoundMger.instance.playEffect("Roulette_Fire_To_SymboL",!1)},t.prototype.onFreeGameSpinStop=function(){},t.prototype.onFreeGameSpinBegin=function(){this.playDust()},t.prototype.playDust=function(){var e=this,t=game.ComUtils.getIntRandom(2,4);r.ComUtils111001901.getIntRandomNoLoop([],0,4,t).forEach(function(t){0==game.ComUtils.getIntRandom(0,1)?e.dustAnimaA[t].play():e.dustAnimaB[t].play()})},t.instance=null,a([p(cc.Animation)],t.prototype,"wavesAnima",void 0),a([p(sp.Skeleton)],t.prototype,"eyeLight",void 0),a([p(cc.Animation)],t.prototype,"bloodAnima",void 0),a([p(cc.Animation)],t.prototype,"free2WildAnima",void 0),a([p(cc.Animation)],t.prototype,"free2StartAnima",void 0),a([p(cc.Animation)],t.prototype,"free2WildShootAnima",void 0),a([p(cc.Animation)],t.prototype,"ringAnima",void 0),a([p(cc.Animation)],t.prototype,"dustAnimaA",void 0),a([p(cc.Animation)],t.prototype,"dustAnimaB",void 0),n=a([l],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../common/ComUtils111001901":"ComUtils111001901","../common/GameEventName111001901":"GameEventName111001901"}],ElementBg111001901:[function(e,t,n){"use strict";cc._RF.push(t,"61c1e3BmdRFsqCBdrMHQBiJ","ElementBg111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{c(o.next(e))}catch(t){a(t)}}function s(e){try{c(o.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._atlas=null,t.defAtlasPath="textures/card/&/slot_item",t.isLoad=!1,t}return i(t,e),t.prototype.onLoad=function(){var e=slot.GData.curLanguage;e="zh"==e?"zh":"en",this.defAtlasPath=this.defAtlasPath.replace("&",e),this.atlas=this.defAtlasPath,this.trim=!1,this.sizeMode=cc.Sprite.SizeMode.RAW,this.isLoad=!0},Object.defineProperty(t.prototype,"atlas",{set:function(e){this.loadRes(e)},enumerable:!1,configurable:!0}),t.prototype.getFrame=function(e){return a(this,void 0,void 0,function(){var t;return r(this,function(n){switch(n.label){case 0:return this._atlas?[3,2]:(t=this,[4,this.loadRes(this.defAtlasPath)]);case 1:t._atlas=n.sent(),n.label=2;case 2:return this._atlas?[2,this._atlas.getSpriteFrame(e)]:[2,void 0]}})})},t.prototype.setFrame=function(e){return a(this,void 0,void 0,function(){var t;return r(this,function(n){switch(n.label){case 0:return this.isLoad||this.onLoad(),this._atlas?[3,2]:(t=this,[4,this.loadRes(this.defAtlasPath)]);case 1:t._atlas=n.sent(),n.label=2;case 2:return this._atlas&&(this.spriteFrame=this._atlas.getSpriteFrame(e)),[2]}})})},t.prototype.loadRes=function(e){return a(this,void 0,Promise,function(){return r(this,function(){return[2,new Promise(function(t){game.ResLoader.getInstance().loadRes(e,cc.SpriteAtlas,null,function(e,n){t(e?null:n)},slot.GData.bundleName)})]})})},t}(cc.Sprite);n.default=s,cc._RF.pop()},{}],ElementLayer111001901:[function(e,t,n){"use strict";cc._RF.push(t,"77e9bjGI89FlIhYixt+W9WH","ElementLayer111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.backMaskNode=null,t.spin=null,t.spriteNode=null,t.wildZHNode=null,t.wildENNode=null,t.curWildNode=null,t.isLoad=!1,t}return i(t,e),t.prototype.onLoad=function(){game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_SHOW,this.showPayElement,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_HIDE,this.hidePayElement,this)},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_SHOW,this.showPayElement,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_HIDE,this.hidePayElement,this)},t.prototype.init=function(){var e;this.spin=null===(e=this.node.getChildByName("spinElementView"))||void 0===e?void 0:e.getComponent(slot.SpinElementView),this.spin.fadeInSk2.node.anchorX=0,this.spriteNode=this.spin.fadeInSk2.node.getChildByName("sp12"),this.wildZHNode=this.spin.fadeInSk2.node.getChildByName("spWildZH"),this.wildENNode=this.spin.fadeInSk2.node.getChildByName("spWildEN"),this.wildENNode.parent=this.spin.node,this.wildZHNode.parent=this.spin.node,this.curWildNode="zh"==slot.GData.curLanguage?this.wildZHNode:this.wildENNode,this.spriteNode.anchorX=0,this.spin.fadeInSk2.node.x=-150,this.isLoad=!0},t.prototype.showPayElement=function(){slot.SoundMger.instance.playEffect("List_Item_Click",!1)},t.prototype.hidePayElement=function(){this.backMaskNode.active=!1},t.prototype.showBackMask=function(){this.backMaskNode.active||(this.backMaskNode.active=!0,this.backMaskNode.opacity=0,cc.Tween.stopAllByTarget(this.backMaskNode),cc.tween(this.backMaskNode).to(.2,{opacity:130}).start())},a([c(cc.Node)],t.prototype,"backMaskNode",void 0),a([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],FiveLine111001901:[function(e,t,n){"use strict";cc._RF.push(t,"90ceaguZvNBJKmrnQqSz9GX","FiveLine111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../common/GameEventName111001901"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fiveLineSp=null,t.rootNode=null,t.fiveNode=null,t}return i(t,e),t.prototype.onLoad=function(){var e=this;game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_TREAT_FULL_LINE_IN_LOOP,this.onFullLine,this),game.EventManager.getInstance().addEventListener(r.EventName.GAME_SPIN_START,this.onGameSpinStart,this),this.rootNode.active=!1,this.fiveLineSp.setCompleteListener(function(){e.rootNode.active=!1})},t.prototype.playFullLine=function(){cc.log("==========================playFullLineAni================:"),this.fiveLineSp&&(slot.SoundMger.instance.playEffect("Five_Of_A_Kind",!1),this.rootNode.active=!0,this.fiveLineSp.setAnimation(0,"5win_fire",!1),this.fiveNode.scale=0,cc.Tween.stopAllByTarget(this.fiveNode),cc.tween(this.fiveNode).set({opacity:0}).to(.2,{scale:4.5,opacity:255}).delay(1.5).to(.2,{opacity:0}).set({opacity:0}).start())},t.prototype.onFullLine=function(){this.playFullLine()},t.prototype.onGameSpinStart=function(){this.rootNode.active=!1},a([l({type:sp.Skeleton,tooltip:"\u4e94\u661f\u8fde\u73e0"})],t.prototype,"fiveLineSp",void 0),a([l(cc.Node)],t.prototype,"rootNode",void 0),a([l(cc.Node)],t.prototype,"fiveNode",void 0),a([c],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../common/GameEventName111001901":"GameEventName111001901"}],Fluxay111001901:[function(e,t,n){"use strict";cc._RF.push(t,"9f2f8Jn/VVH4bqulWChZ304","Fluxay111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),a([s],t)}(slot.FluxayTexture));n.default=c,cc._RF.pop()},{}],Free1Bg111001901:[function(e,t,n){"use strict";cc._RF.push(t,"3d026XIYANIbbIRRIw7TgGu","Free1Bg111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../common/GameEventName111001901"),s=e("../game/GameLayer111001901"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgNode=null,t.hpBar=null,t.hpLabel=null,t.medusaAnima=null,t.perseusSp=null,t.mdsAttackAnima=null,t.mdsScratch1Anima=null,t.mdsScratch2Anima=null,t.bloodAnima=null,t._curHp=0,t._maxHp=800,t.oldHp=0,t._isFrist=!1,t}var n;return i(t,e),n=t,Object.defineProperty(t.prototype,"maxHp",{get:function(){return this._maxHp},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFrist",{get:function(){return this._isFrist},set:function(e){this._isFrist=e},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){var e=this;n.instance=this,window.freeBg1=this,this.medusaAnima.on(cc.Animation.EventType.FINISHED,function(t,n){"attack"!=n.name&&"perifying"!=n.name&&"being_attack"!=n.name||e.medusaAnima.play("idle")}),this.mdsScratch1Anima.on(cc.Animation.EventType.FINISHED,function(t){console.log("anima = ",t),e.mdsScratch1Anima.node.opacity=0}),this.mdsScratch2Anima.on(cc.Animation.EventType.FINISHED,function(){e.mdsScratch2Anima.node.opacity=0}),this.mdsAttackAnima.on(cc.Animation.EventType.FINISHED,function(){e.mdsAttackAnima.node.opacity=0}),this.bloodAnima.on(cc.Animation.EventType.FINISHED,function(){e.bloodAnima.node.opacity=0})},t.prototype.onEnable=function(){game.EventManager.getInstance().addEventListener(r.EventName.GAME_SPIN_START,this.onSpinStart,this),game.EventManager.getInstance().addEventListener(r.EventName.GAME_SPIN_STOP,this.onSpinStop,this),game.EventManager.getInstance().addEventListener(r.EventName.MEDUSA_SKILL,this.onMedusaSKill,this),this._curHp=this.maxHp,this.updateCurHp(),slot.SoundMger.instance.playMusic("Free_Back_Music",!0)},t.prototype.onDisable=function(){game.EventManager.getInstance().removeEventListener(r.EventName.GAME_SPIN_START,this.onSpinStart,this),game.EventManager.getInstance().removeEventListener(r.EventName.GAME_SPIN_STOP,this.onSpinStop,this),game.EventManager.getInstance().removeEventListener(r.EventName.MEDUSA_SKILL,this.onMedusaSKill,this)},t.prototype.playMedusa=function(e){void 0===e&&(e=null),this.medusaAnima.node.active=!0,this.medusaAnima.play(e)},t.prototype.playMedusaPerifying=function(){this.playMedusa("perifying"),slot.SoundMger.instance.playEffect("Medusa_Curse_Sound",!1),game.EventManager.getInstance().raiseEvent(r.EventName.ANIMA_EVENT_PERIFYING)},t.prototype.setHp=function(e,t){void 0===t&&(t=!0),this._curHp=e,t&&this.updateCurHp()},t.prototype.updateOldHp=function(){this.oldHp>this.maxHp&&(this.oldHp=this.maxHp),this.oldHp<0&&(this.oldHp=0),this.hpBar.fillRange=this.oldHp/this.maxHp,this.hpLabel.string=this.oldHp+"/"+this.maxHp},t.prototype.updateCurHp=function(){this._curHp>this.maxHp&&(this._curHp=this.maxHp),this._curHp<0&&(this._curHp=0),this.oldHp=this._curHp,this.hpBar.fillRange=this._curHp/this.maxHp,this.hpLabel.string=this._curHp+"/"+this.maxHp},t.prototype.playMedusaAttack=function(e){var t=this;if(void 0===e&&(e=!1),this.medusaAnima.play("attack"),this.scheduleOnce(function(){t.mdsAttackAnima.play("medusa_attack"),t.mdsScratch1Anima.play("medusa_scratch1"),t.mdsScratch2Anima.play("medusa_scratch2"),t.playBloodAnima(),game.EventManager.getInstance().raiseEvent(r.EventName.SHOW_BLOOD_ANIMA),t.shake()},.5),e)this.scheduleOnce(function(){t.playPerseusDefense()},.3),slot.SoundMger.instance.playEffect("Medusa_Attack_Combo",!1);else{var n=game.ComUtils.getIntRandom(1,3);slot.SoundMger.instance.playEffect("Medusa_Attack_Sound"+n,!1)}},t.prototype.playMdsBeingAttack=function(){this.playMedusa("being_attack")},t.prototype.playPerseusDefense=function(){this.perseusSp.setAnimation(0,"perseus_defense",!1),this.perseusSp.addAnimation(0,"perseus_idle",!0)},t.prototype.playPerseusAttack=function(){var e=this;this.perseusSp.setAnimation(0,"perseus_wave",!1),this.perseusSp.addAnimation(0,"perseus_idle",!0),this.oldHp-=40,0==game.ComUtils.getIntRandom(0,1)?slot.SoundMger.instance.playEffect("Perseus_Sword_Hit_Heavy",!1):slot.SoundMger.instance.playEffect("Perseus_Sword_Hit_Normal",!1),cc.Tween.stopAllByTag(997),cc.tween(this.node).delay(.3).call(function(){e.playMdsBeingAttack(),e.shake(),e.updateOldHp()}).tag(997).start()},t.prototype.playBloodAnima=function(){this.bloodAnima.play("blood")},t.prototype.shake=function(){cc.Tween.stopAllByTag(998),cc.tween(this.bgNode).set({x:0,y:400}).to(.1,{x:10}).to(.1,{x:-10}).to(.1,{x:10}).to(.1,{x:-10}).to(1,{x:0}).tag(998).start()},t.prototype.onClickTest=function(){var e=this;this.playMedusaAttack(!1),this.scheduleOnce(function(){e.playMedusaAttack(!0)},2),this.scheduleOnce(function(){e.playPerseusAttack()},4),this.scheduleOnce(function(){game.EventManager.getInstance().raiseEvent(r.EventName.BG_TAG_CHANGE,r.BG_TAG111001901.NORMAL)},6)},t.prototype.playFirstAttack=function(){var e=this;this.playMedusaAttack(!1),s.default.instance.scroller.addRunningTime(4e3),this.scheduleOnce(function(){e.playMedusaAttack(!0)},2),this.scheduleOnce(function(){e.playPerseusAttack()},4)},t.prototype.onSpinStart=function(){var e=this;this._isFrist?this.playFirstAttack():(s.default.instance.scroller.addRunningTime(1e3),this.scheduleOnce(function(){e.playMedusaAttack(!0)},0),this.scheduleOnce(function(){e.playPerseusAttack()},2)),this._isFrist=!1},t.prototype.onSpinStop=function(){},t.prototype.onMedusaSKill=function(e,t){cc.Tween.stopAllByTag(999),t<0?this.playMedusa("motion_hit"):0==t?this.playMedusa("motion_defense"):this.playMedusa("being_attack")},t.instance=null,a([p(cc.Node)],t.prototype,"bgNode",void 0),a([p(cc.Sprite)],t.prototype,"hpBar",void 0),a([p(cc.Label)],t.prototype,"hpLabel",void 0),a([p(cc.Animation)],t.prototype,"medusaAnima",void 0),a([p(sp.Skeleton)],t.prototype,"perseusSp",void 0),a([p(cc.Animation)],t.prototype,"mdsAttackAnima",void 0),a([p(cc.Animation)],t.prototype,"mdsScratch1Anima",void 0),a([p(cc.Animation)],t.prototype,"mdsScratch2Anima",void 0),a([p(cc.Animation)],t.prototype,"bloodAnima",void 0),n=a([l],t)}(slot.BaseView);n.default=u,cc._RF.pop()},{"../common/GameEventName111001901":"GameEventName111001901","../game/GameLayer111001901":"GameLayer111001901"}],Free2Bg111001901:[function(e,t,n){"use strict";cc._RF.push(t,"ee0c22EkvNCAo56ezo1+3j2","Free2Bg111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../common/GameEventName111001901"),s=e("../common/LanguageInfo111001901"),c=e("../game/GameLayer111001901"),l=cc._decorator,p=l.ccclass,u=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.atlas=null,t.perseusAnima=null,t.swordAnima=null,t.sparkAnima=null,t.perseusCutAnima=null,t.shieldNode=null,t.shieldBaseNode=null,t.shieldBlurNode=null,t.wildNode=null,t.numberNode=null,t.numberLangInfo=[],t.shieldTmpNode=null,t.angles={1:[152,296,407],2:[224,368],3:[332,476],5:[260],7:[440],9:[188]},t._index=0,t._list=[],t.curNum=0,t.completeHandler=null,t}var n;return i(t,e),n=t,t.prototype.onLoad=function(){var e=this;window.Free2Bg111001901=this,n.instance=this,this.perseusAnima.on(cc.Animation.EventType.FINISHED,function(t,n){"spin"!=n.name&&"win"!=n.name||e.playIdleAnima()}),cc.tween(this.shieldBaseNode).repeatForever(cc.tween(this.shieldBaseNode).by(1,{y:-10}).by(1,{y:10})).start()},t.prototype.onEnable=function(){game.EventManager.getInstance().addEventListener(r.EventName.GAME_SPIN_START,this.onSpinStart,this),game.EventManager.getInstance().addEventListener(r.EventName.GAME_SPIN_STOP,this.onSpinStop,this),game.EventManager.getInstance().addEventListener(r.EventName.JT_PXS_PUSH_WILD,this.onPxsPushWild,this),this.sparkAnima.node.opacity=0,this.perseusCutAnima.node.opacity=0,slot.SoundMger.instance.stopMusic("Free_Back_Music"),slot.SoundMger.instance.playMusic("Extra_Bgm",!0),this.playIdleAnima(),this.hideNumber()},t.prototype.onDisable=function(){game.EventManager.getInstance().removeEventListener(r.EventName.GAME_SPIN_START,this.onSpinStart,this),game.EventManager.getInstance().removeEventListener(r.EventName.GAME_SPIN_STOP,this.onSpinStop,this),game.EventManager.getInstance().removeEventListener(r.EventName.JT_PXS_PUSH_WILD,this.onPxsPushWild,this),slot.SoundMger.instance.stopEffect("Roulette_Spin_Grating_Loop")},t.prototype.reset=function(){var e=this;this.wildNode.getComponent(s.default).spriteName="shield_wild_off";var t=function(t){Object.prototype.hasOwnProperty.call(n.angles,t)&&n.angles[t].forEach(function(n){var o=Math.floor((n-152)/36);e.numberLangInfo[o].spriteFrame=e.atlas.getSpriteFrame("number_"+t)})},n=this;for(var o in this.angles)t(o)},t.prototype.playSpinAnima=function(){var e=this;slot.SoundMger.instance.playEffect("Roulette_Start_Perseus_Vocal",!1),this.perseusAnima.play("spin"),this.swordAnima.play("sword_spin"),this.scheduleOnce(function(){e.perseusCutAnima.play()},.5)},t.prototype.playWinAnima=function(){this.perseusAnima.play("win"),this.swordAnima.play("sword_win"),slot.SoundMger.instance.playEffect("Roulette_Stop_Vocal",!1)},t.prototype.playIdleAnima=function(){this.perseusAnima.play("idle"),this.swordAnima.play("sword_idle")},t.prototype.spinStart=function(){var e=this;this.reset(),cc.tween(this.shieldNode).by(5,{angle:2760}).start(),cc.Tween.stopAllByTarget(this.shieldBlurNode);var t=cc.tween().by(2,{angle:720}).by(2,{angle:-720});cc.tween(this.shieldBlurNode).set({opacity:0}).delay(.2).to(.2,{opacity:255}).call(function(){e.sparkAnima.node.opacity=255,slot.SoundMger.instance.playEffect("Roulette_Spin_Grating_Loop",!0),e.sparkAnima.play()}).repeat(Number.MAX_SAFE_INTEGER,t).start()},t.prototype.beginSpin=function(){var e=this;game.EventManager.getInstance().raiseEvent(r.EventName.ANIMA_EVENT_FREE2START),slot.SoundMger.instance.playEffect("Roulette_Charging",!1),this.showNumber(function(){e.playSpinAnima(),e.scheduleOnce(function(){e.spinStart()},.5)})},t.prototype.onClickTest=function(){this.beginSpin()},t.prototype.onClickStop=function(){for(var e=game.ComUtils.getIntRandom(1,9);!this.angles[e];)e=game.ComUtils.getIntRandom(1,9);this._list=[];for(var t=0;t<e;t++){var n=game.ComUtils.getIntRandom(4,12);this._list.push(n)}console.log("list = ",this._list),this.setAnum(e)},t.prototype.onSpinStart=function(){c.default.instance.scroller.addRunningTime(2e3)},t.prototype.onSpinStop=function(){this.setAnum(this._list.length)},t.prototype.onPxsPushWild=function(e,t){this.completeHandler=t},t.prototype.setWildList=function(e){this._list=e.concat([])},t.prototype.initRatate=function(e){this.reset();var t=e.length;this.setWildList(e);var n=this.getAngle(t);this.curNum=t,this._index=Math.floor((n-152)/36),cc.Tween.stopAllByTarget(this.shieldBlurNode),cc.Tween.stopAllByTarget(this.shieldNode),cc.Tween.stopAllByTarget(this.sparkAnima.node),cc.Tween.stopAllByTarget(this.shieldTmpNode),this.showNumber(),this.shieldBlurNode.opacity=0,this.shieldNode.opacity=255,this.shieldNode.angle=n,this.sparkAnima.node.opacity=0,this.shieldTmpNode.opacity=0},t.prototype.setAnum=function(e){var t=this;this.curNum=e,console.log("\u8f6c\u76d8\u767e\u642d\u6570\u91cf\uff1a ",e);var n=this.getAngle(e);this._index=Math.floor((n-152)/36),cc.Tween.stopAllByTarget(this.shieldBlurNode),cc.Tween.stopAllByTarget(this.shieldNode),cc.tween(this.shieldBlurNode).set({angle:n+180}).to(1,{angle:n,opacity:0}).start(),cc.tween(this.shieldNode).set({angle:n+180}).to(1,{angle:n-10}).to(1,{angle:n}).call(function(){t.spinFinish()}).start(),cc.tween(this.sparkAnima.node).set({opacity:255}).to(1,{opacity:0}).start(),slot.SoundMger.instance.stopEffect("Roulette_Spin_Grating_Loop")},t.prototype.getAngle=function(e){var t=this.angles[e];return t?t.length>1?t[game.ComUtils.getIntRandom(0,t.length-1)]:t[0]:(console.error("\u6570\u91cf\u4e0d\u80fd\u4e3a\uff1a",e),152)},t.prototype.spinFinish=function(){var e=this;slot.SoundMger.instance.playEffect("Roulette_Number_Highlight_Center",!1),cc.tween(this.shieldTmpNode).delay(.5).set({scale:1.2,opacity:100}).to(.8,{scale:1.4,opacity:0}).call(function(){game.EventManager.getInstance().raiseEvent(r.EventName.ANIMA_EVENT_FREE2WILD)}).start(),this.playWinAnima(),this.numberLangInfo[this._index].spriteFrame=this.atlas.getSpriteFrame("number_"+this.curNum+"g"),this.wildNode.getComponent(s.default).spriteName="shield_wild_on",this._list.forEach(function(t,n){e.scheduleOnce(function(){e.playWildArrow(t)},1*n)}),this.scheduleOnce(function(){e.hideNumber(function(){e.completeHandler&&e.completeHandler.run()})},this._list.length+2)},t.prototype.playWildArrow=function(e){game.EventManager.getInstance().raiseEvent(r.EventName.ANIMA_EVENT_FREE2WILD),game.EventManager.getInstance().raiseEvent(r.EventName.ANIMA_EVENT_FREE2WILD_SHOOT,e)},t.prototype.hideNumber=function(e){void 0===e&&(e=null),this.reset(),cc.Tween.stopAllByTarget(this.numberNode),cc.Tween.stopAllByTarget(this.wildNode),cc.tween(this.numberNode).to(.2,{opacity:0}).delay(1).call(function(){e&&e()}).start(),cc.tween(this.wildNode).to(.2,{opacity:0}).call(function(){}).start()},t.prototype.showNumber=function(e){void 0===e&&(e=null),cc.Tween.stopAllByTarget(this.numberNode),cc.Tween.stopAllByTarget(this.wildNode),cc.tween(this.numberNode).set({opacity:0}).to(.2,{opacity:255}).delay(1).call(function(){e&&e()}).start(),cc.tween(this.wildNode).set({opacity:0}).to(.2,{opacity:255}).call(function(){}).start()},t.instance=null,a([u(cc.SpriteAtlas)],t.prototype,"atlas",void 0),a([u(cc.Animation)],t.prototype,"perseusAnima",void 0),a([u(cc.Animation)],t.prototype,"swordAnima",void 0),a([u(cc.Animation)],t.prototype,"sparkAnima",void 0),a([u(cc.Animation)],t.prototype,"perseusCutAnima",void 0),a([u(cc.Node)],t.prototype,"shieldNode",void 0),a([u(cc.Node)],t.prototype,"shieldBaseNode",void 0),a([u(cc.Node)],t.prototype,"shieldBlurNode",void 0),a([u(cc.Node)],t.prototype,"wildNode",void 0),a([u(cc.Node)],t.prototype,"numberNode",void 0),a([u(cc.Sprite)],t.prototype,"numberLangInfo",void 0),a([u(cc.Node)],t.prototype,"shieldTmpNode",void 0),n=a([p],t)}(slot.BaseView);n.default=d,cc._RF.pop()},{"../common/GameEventName111001901":"GameEventName111001901","../common/LanguageInfo111001901":"LanguageInfo111001901","../game/GameLayer111001901":"GameLayer111001901"}],FreeAgain111001901:[function(e,t,n){"use strict";cc._RF.push(t,"44254+HnkhF4IuUwc3mISn3","FreeAgain111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pxsSp=null,t.titleKoNode=null,t.title5Node=null,t.callBack=null,t}return i(t,e),t.prototype.onLoad=function(){var e=this;this.pxsSp.setCompleteListener(function(){game.UIManager.getInstance().close(e)})},t.prototype.onOpen=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];t&&(this.callBack=t[0]),this.pxsSp.setAnimation(0,"ko_inort",!1),cc.Tween.stopAllByTarget(this.title5Node),cc.Tween.stopAllByTarget(this.titleKoNode),cc.tween(this.titleKoNode).set({opacity:0,x:15}).delay(.5).set({opacity:255,scale:1.2}).to(.2,{scale:1.5}).to(.3,{scale:1.2}).delay(2).to(.5,{opacity:0,x:50}).start(),cc.tween(this.title5Node).set({opacity:0,x:15}).delay(1.5).set({opacity:255,scale:1.2}).to(.2,{scale:1.5}).to(.3,{scale:1.2}).delay(1).to(.5,{opacity:0,x:-40}).start(),slot.SoundMger.instance.playEffect("Extra_Loading_Start",!1)},t.prototype.onClose=function(){this.callBack&&this.callBack.run(),slot.SoundMger.instance.playEffect("Extra_Loading_End",!1)},a([c(sp.Skeleton)],t.prototype,"pxsSp",void 0),a([c(cc.Node)],t.prototype,"titleKoNode",void 0),a([c(cc.Node)],t.prototype,"title5Node",void 0),a([s],t)}(game.UIView);n.default=l,cc._RF.pop()},{}],FreeBottom111001901:[function(e,t,n){"use strict";cc._RF.push(t,"d071b7y6P1Dq5YodV8HBGaN","FreeBottom111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../common/NumAtlasLabel111001901"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.freeSpriteNode=null,t.lastSpriteNode=null,t.freeTimeNumAtlas=null,t.freeTimeNumTmpAtlas=null,t.addNumLightAnima=null,t._layout=null,t._times=0,t.freeTimeY=0,t}return i(t,e),t.prototype.onLoad=function(){this.freeTimeY=this.freeTimeNumAtlas.node.y,this._layout=this.getComponent(cc.Layout)},Object.defineProperty(t.prototype,"times",{get:function(){return this._times},set:function(e){console.log("\u5269\u4f59\u6b21\u6570 : ",e),this._times=e},enumerable:!1,configurable:!0}),t.prototype.setFreeTimes=function(e){this._times=e,this.freeTimeNumAtlas.string=e.toString(),this.checkTimes()},t.prototype.checkTimes=function(){var e=this._times;this.freeSpriteNode.active=e>0,this.freeTimeNumAtlas.node.active=e>0,this.lastSpriteNode.active=e<=0},t.prototype.updateFreeTimes=function(){this.setFreeTimes(this._times)},t.prototype.addFreeTimes=function(e,t){var n=this,o=this._times-e;this.schedule(function(){++o>=n._times&&(o=n._times,t.run()),n.playSetTime(o)},.5,e-1)},t.prototype.playSetTime=function(e){var t=this;this.freeTimeNumTmpAtlas.string=e.toString(),this.freeTimeNumTmpAtlas.node.position=this.freeTimeNumAtlas.node.position,this.freeTimeNumTmpAtlas.node.y-=20,cc.Tween.stopAllByTarget(this.freeTimeNumTmpAtlas.node),cc.tween(this.freeTimeNumTmpAtlas.node).set({scale:1.5,opacity:255}).to(.15,{scale:.65,position:this.freeTimeNumAtlas.node.position}).set({opacity:0}).call(function(){slot.SoundMger.instance.playEffect("Extra_Number_Decrease",!1),t.freeTimeNumAtlas.string=e.toString(),t.addNumLightAnima.node.position=t.freeTimeNumAtlas.node.position,t.addNumLightAnima.play()}).start()},a([l(cc.Node)],t.prototype,"freeSpriteNode",void 0),a([l(cc.Node)],t.prototype,"lastSpriteNode",void 0),a([l(r.default)],t.prototype,"freeTimeNumAtlas",void 0),a([l(r.default)],t.prototype,"freeTimeNumTmpAtlas",void 0),a([l(cc.Animation)],t.prototype,"addNumLightAnima",void 0),a([c],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../common/NumAtlasLabel111001901":"NumAtlasLabel111001901"}],FreeResult111001901:[function(e,t,n){"use strict";cc._RF.push(t,"41bcdBe8kxK4IjQCvkeoN95","FreeResult111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../common/NumAtlasLabel111001901"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.twNumAtlas=null,t.fsNumAtlas=null,t.clickNode=null,t.bgSp=null,t.bgfxSp=null,t.collectBtn=null,t.btnSp=null,t.lizi=null,t.callBack=null,t.closeTween=null,t.numTween=null,t.win=0,t}return i(t,e),t.prototype.onLoad=function(){this.collectBtn.node.on(cc.Node.EventType.MOUSE_ENTER,this.onMouseEnter,this),this.collectBtn.node.on(cc.Node.EventType.MOUSE_LEAVE,this.onMouseLeave,this)},t.prototype.onMouseEnter=function(){this.btnSp.node.opacity=255,this.btnSp.setAnimation(0,"button_lide",!0)},t.prototype.onMouseLeave=function(){this.btnSp.node.opacity=0},t.prototype.onOpen=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];cc.log("=====onOpen");var o=this;o.collectBtn.node.active=!1,this.clickNode.active=!1,o.node.active=!0,o.node.opacity=255,o.setData(t);var i=game.ComUtils.getIntRandom(1,2);1==i?slot.SoundMger.instance.playMusic("Total_Win_Back_Music",!1):slot.SoundMger.instance.playMusic("Total_Win_Back_Music2",!1),o.closeTween&&o.closeTween.stop(),o.closeTween=cc.tween(o).delay(12).call(function(){o.onClickCollect()}).start(),o.bgSp.setAnimation(0,"jiuesuan_inort",!1),o.bgSp.addAnimation(0,"jiuesuan_loop",!0),o.bgfxSp.paused=!1,o.bgfxSp.setAnimation(0,"fadein",!1),o.bgfxSp.addAnimation(0,"loop",!0),slot.SoundMger.instance.playEffect("Total_Win_Counting_Bgm",!0)},t.prototype.setData=function(e){var t=this;this.callBack=e[0][0],this.win=e[0][2];var n=e[0][2],o=e[0][1];this.fsNumAtlas.string=o.toString(),this.twNumAtlas.curNum=0,cc.tween(this.twNumAtlas.node).set({opacity:0}).delay(.5).to(.1,{opacity:255}).call(function(){t.clickNode.active=!0,t.lizi.resetSystem(),t.twNumAtlas.runToNumber(n,3,function(){t.finishNumberRun()})}).start()},t.prototype.finishNumberRun=function(){var e=this;this.twNumAtlas.stopNumberTween(),this.twNumAtlas.curNum=this.win,this.collectBtn.node.active=!0,this.collectBtn.interactable=!0,this.collectBtn.node.opacity=0,this.collectBtn.node.scale=.1,cc.tween(this.collectBtn.node).to(.2,{opacity:255,scale:1}).delay(.1).call(function(){e.btnSp.node.opacity=255,e.btnSp.setAnimation(0,"button_light",!1)}).start(),this.bgSp.setAnimation(0,"jiuesuan_end",!1),this.bgSp.addAnimation(0,"jiuesuan_static",!0),this.bgfxSp.paused=!0;var t=cc.instantiate(this.twNumAtlas.node);t.parent=this.twNumAtlas.node.parent,cc.tween(t).to(.5,{opacity:0,scale:1}).removeSelf().start(),this.lizi.stopSystem(),slot.SoundMger.instance.stopEffect("Total_Win_Counting_Bgm"),this.scheduleOnce(function(){slot.SoundMger.instance.playEffect("Total_Win_Sword",!1)},1),slot.SoundMger.instance.playEffect("Total_Win_Waiting_Sound",!1)},t.prototype.onClickCollect=function(){var e;this.collectBtn.interactable=!1,null!==(e=this.closeTween)&&void 0!==e||this.closeTween.stop(),this.hideView(),slot.SoundMger.instance.playEffect("Total_Win_Btn",!1),cc.tween(this.collectBtn.node).to(.2,{scale:.95}).to(.2,{scale:1}).start()},t.prototype.onClose=function(){cc.log("=====\u5173\u95edonClose"),this.node.active=!1,this.closeTween&&this.closeTween.stop(),this.callBack&&this.callBack.run(),this.closeTween=null,slot.SoundMger.instance.stopEffect("Total_Win_Counting_Bgm"),slot.SoundMger.instance.stopMusic("Total_Win_Back_Music"),slot.SoundMger.instance.stopMusic("Total_Win_Back_Music2"),slot.SoundMger.instance.stopEffect("Total_Win_Waiting_Sound")},t.prototype.onClickAll=function(){cc.log("=====onClickAll"),this.clickNode.active=!1,this.finishNumberRun()},t.prototype.hideView=function(){var e=this;slot.SoundMger.instance.playEffect("Free_Laim_Button_Sound_Effect",!1),cc.tween(e.node).delay(.4).to(.2,{opacity:0}).call(function(){game.UIManager.getInstance().close(e)}).start()},a([l(r.default)],t.prototype,"twNumAtlas",void 0),a([l(r.default)],t.prototype,"fsNumAtlas",void 0),a([l(cc.Node)],t.prototype,"clickNode",void 0),a([l(sp.Skeleton)],t.prototype,"bgSp",void 0),a([l(sp.Skeleton)],t.prototype,"bgfxSp",void 0),a([l(cc.Button)],t.prototype,"collectBtn",void 0),a([l(sp.Skeleton)],t.prototype,"btnSp",void 0),a([l(cc.ParticleSystem)],t.prototype,"lizi",void 0),a([c],t)}(game.UIView);n.default=p,cc._RF.pop()},{"../common/NumAtlasLabel111001901":"NumAtlasLabel111001901"}],FreeStart111001901:[function(e,t,n){"use strict";cc._RF.push(t,"5f5bdLn8glHpoebh1yUYEWS","FreeStart111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../common/GameEventName111001901"),s=e("../common/NumAtlasLabel111001901"),c=e("../game/GameLayer111001901"),l=e("../game/GemCtrl111001901"),p=e("../main/Main111001901"),u=e("./WildLayer111001901"),d=cc._decorator,h=d.ccclass,f=d.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.progressNode=null,t.progressNumAtlas=null,t.timeNumAtlas=null,t.bgMask=null,t.tipsNode=null,t.freeNode=null,t.frameNode=null,t.redShineNode=null,t.callback=null,t._frameStartY=-484,t._gemFrameY=491,t._bgMaskStartHeight=300,t.twRepeat=null,t.closeTween=null,t}return i(t,e),t.prototype.onLoad=function(){var e=slot.GData.curLanguage;"da"!=e&&"no"!=e||(this.btnScale=.9)},t.prototype.onClick=function(){},t.prototype.onOpen=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=this,i=t[0][0];o.callback=t[0][1],o.timeNumAtlas.string=i.toString(),o.timeNumAtlas.node.active=!1,o.freeNode.active=!1,o.tipsNode.active=!1,o.progressNumAtlas.node.active=!1,o.redShineNode.scaleX=0,l.default.instance._curGem=3,l.default.instance.updateGem(),l.default.instance.node.parent=o.frameNode,l.default.instance.node.y=o._gemFrameY,o.bgMask.height=o._bgMaskStartHeight,o.frameNode.y=o._frameStartY,o.node.height,o.showCutAnima(),slot.SoundMger.instance.playMusic("Free_Loading_Bgm",!0)},t.prototype.showCutAnima=function(){var e=this;slot.SoundMger.instance.playEffect("Gate_Open",!1),cc.tween(this.frameNode).to(.3,{y:10}).to(.2,{y:0}).call(function(){e.showGemAnima()}).start(),cc.tween(this.bgMask).to(.3,{height:1700}).start();var t=c.default.instance.node;cc.tween(t).to(.3,{y:-600}).start()},t.prototype.pullCurtaion=function(){var e=this;game.EventManager.getInstance().raiseEvent(r.EventName.BG_TAG_CHANGE,r.BG_TAG111001901.FREE1),cc.tween(this.frameNode).to(.3,{y:this._frameStartY}).start(),cc.tween(this.bgMask).to(.3,{height:this._bgMaskStartHeight}).start();var t=c.default.instance.node;t.parent=this.node,cc.tween(t).to(.3,{y:0}).call(function(){l.default.instance.pullDownEndHide(),t.parent=p.default.instance.node}).call(function(){game.UIManager.getInstance().close(e)}).start()},t.prototype.showGemAnima=function(){var e=this;l.default.instance.showGemBarFilpY(!0,!0,function(){e.showLabel()})},t.prototype.showLabel=function(){var e=this;this.timeNumAtlas.node.active=!0,this.freeNode.active=!0,this.tipsNode.active=!0,cc.tween(this.timeNumAtlas.node).set({opacity:0}).delay(.2).to(.2,{opacity:255}).start(),cc.tween(this.freeNode).set({opacity:0,y:-200}).delay(.5).to(.5,{opacity:255,y:-190}).start(),cc.tween(this.tipsNode).set({opacity:0,y:-430}).delay(1).to(.5,{opacity:255,y:-400}).call(function(){e.showLoadAction()}).start(),this.redShineNode.scaleX=0,cc.tween(this.redShineNode).set({opacity:255}).to(.5,{scale:1.5}).delay(.5).to(.2,{opacity:120}).start()},t.prototype.showLoadAction=function(){var e=this;this.progressNumAtlas.node.active=!0,e.progressNumAtlas.node.opacity=0,e.progressNode.opacity=255,e.progressNumAtlas.string="0%";var t=0,n=cc.tween(e.progressNode).by(.01,{angle:-10}).call(function(){(t+=game.ComUtils.getIntRandom(1,4))>100&&(t=100),e.progressNumAtlas.string=t.toString()+"%",100==t&&(slot.SoundMger.instance.playEffect("Gate_Close",!1),e.scheduleOnce(e.pullCurtaion.bind(e),.5),e.twRepeat.stop(),cc.tween(e.progressNode).to(.5,{opacity:0}).start())}),o=cc.tween(e.progressNode).repeatForever(n);cc.tween(e.progressNode).delay(.5).to(.3,{opacity:255}).delay(.2).call(function(){e.twRepeat=cc.tween(e.progressNode).then(o).start()}).start(),cc.tween(e.progressNumAtlas.node).to(.8,{opacity:255}).start()},t.prototype.onClose=function(){u.default.instance.reset(),slot.SoundMger.instance.stopMusic("Free_Loading_Bgm"),this.twRepeat&&(this.twRepeat.stop(),this.twRepeat=null),this.callback&&(this.callback.run(),this.callback=null),this.closeTween&&(this.closeTween.stop(),this.closeTween=null)},a([f(cc.Node)],t.prototype,"progressNode",void 0),a([f(s.default)],t.prototype,"progressNumAtlas",void 0),a([f(s.default)],t.prototype,"timeNumAtlas",void 0),a([f(cc.Node)],t.prototype,"bgMask",void 0),a([f(cc.Node)],t.prototype,"tipsNode",void 0),a([f(cc.Node)],t.prototype,"freeNode",void 0),a([f(cc.Node)],t.prototype,"frameNode",void 0),a([f(cc.Node)],t.prototype,"redShineNode",void 0),a([h],t)}(slot.BaseView);n.default=m,cc._RF.pop()},{"../common/GameEventName111001901":"GameEventName111001901","../common/NumAtlasLabel111001901":"NumAtlasLabel111001901","../game/GameLayer111001901":"GameLayer111001901","../game/GemCtrl111001901":"GemCtrl111001901","../main/Main111001901":"Main111001901","./WildLayer111001901":"WildLayer111001901"}],FreeTimeAdd111001901:[function(e,t,n){"use strict";cc._RF.push(t,"ab242/XR1NHi5iZjODv+5oZ","FreeTimeAdd111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../common/NumAtlasLabel111001901"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timeNumAtlas=null,t}var n;return i(t,e),n=t,Object.defineProperty(t,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){n._instance=this,this.hide()},t.prototype.showTime=function(e){this.timeNumAtlas.string=e.toString(),this.node.active=!0,cc.tween(this.node).show().delay(3).hide().start()},t.prototype.hide=function(){this.node.active=!1},a([l(r.default)],t.prototype,"timeNumAtlas",void 0),n=a([c],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../common/NumAtlasLabel111001901":"NumAtlasLabel111001901"}],GameBg111001901:[function(e,t,n){"use strict";cc._RF.push(t,"597fcE2jUVAnZlW9rkQGMfA","GameBg111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../common/GameEventName111001901"),s=e("./Free1Bg111001901"),c=e("./Free2Bg111001901"),l=e("./NormalBg111001901"),p=cc._decorator,u=p.ccclass,d=p.property,h=function(e){function t(){var t=e.call(this)||this;return t.normalBg=null,t.free1Bg=null,t.free2Bg=null,t._curTag=r.BG_TAG111001901.NONE,t}var n;return i(t,e),n=t,Object.defineProperty(t.prototype,"curTag",{get:function(){return this._curTag},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){n.instance=this,this.showBgTag(r.BG_TAG111001901.NORMAL),s.default.instance=this.free1Bg,c.default.instance=this.free2Bg,l.default.instance=this.normalBg,game.EventManager.getInstance().addEventListener(r.EventName.ANIMA_EVENT_MOTION,this.onMedusaMotion,this),game.EventManager.getInstance().addEventListener(r.EventName.BG_TAG_CHANGE,this.onBgTagChange,this)},t.prototype.showBgTag=function(e){if(this._curTag!=e)switch(this._curTag=e,this.normalBg.node.active=!1,this.free1Bg.node.active=!1,this.free2Bg.node.active=!1,e){case r.BG_TAG111001901.NORMAL:this.normalBg.node.active=!0;break;case r.BG_TAG111001901.FREE1:this.free1Bg.node.active=!0;break;case r.BG_TAG111001901.FREE2:this.free2Bg.node.active=!0}},t.prototype.playMedusaRetreat=function(){this.normalBg.playMedusaRetreat()},t.prototype.onMedusaMotion=function(){this.shakeBg()},t.prototype.shakeBg=function(){cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).repeat(5,cc.tween(this.node).to(.1,{x:-5}).to(.1,{x:5})).set({x:0}).start()},t.prototype.onBgTagChange=function(e,t){this.showBgTag(t)},t.instance=null,a([d(l.default)],t.prototype,"normalBg",void 0),a([d(s.default)],t.prototype,"free1Bg",void 0),a([d(c.default)],t.prototype,"free2Bg",void 0),n=a([u],t)}(slot.BaseView);n.default=h,cc._RF.pop()},{"../common/GameEventName111001901":"GameEventName111001901","./Free1Bg111001901":"Free1Bg111001901","./Free2Bg111001901":"Free2Bg111001901","./NormalBg111001901":"NormalBg111001901"}],GameEventName111001901:[function(e,t,n){"use strict";cc._RF.push(t,"ca65fGvksNAQrdlFI+FdLPW","GameEventName111001901"),Object.defineProperty(n,"__esModule",{value:!0}),n.BG_TAG111001901=n.Item111001901=n.ELgId111001901=n.WinType=n.EventName=void 0,function(e){e.EVENT_WIN_GAME="EVENT_WIN_GAME",e.ROLE_FREE_SPIN="ROLE_FREE_SPIN",e.FREE_GAME_START="FREE_GAME_START",e.FREE_GAME_OVER="FREE_GAME_OVER",e.FREE_GAME_SPIN_BEGIN="FREE_GAME_SPIN_BEGIN",e.FREE_GAME_SPIN_STOP="FREE_GAME_SPIN_STOP",e.FREE_GAME_MULTIPLE3="FREE_GAME_MULTIPLE3",e.FREE_GAME_RELOGIN_DATA="FREE_GAME_RELOGIN_DATA",e.ROLE_SWITCH_ANIMA="ROLE_SWITCH_ANIMA",e.ROLE_SKILL_EVENT="ROLE_SKILL_EVENT",e.ROLE_ANIMA_FINISH="ROLE_ANIMA_FINISH",e.BIG_WIN_EVENT="BIG_WIN_EVENT",e.GAME_SPIN_STOP="GAME_SPIN_STOP",e.GAME_SPIN_START="GAME_SPIN_START",e.BONUS_GAME_START="BONUS_GAME_START",e.MEDUSA_ENTER="MEDUSA_ENTER_111001901",e.MEDUSA_SKILL="MEDUSA_SKILL_111001901",e.JT_ROCK_ROLLER="JT_ROCK_ROLLER_111001901",e.JT_MEDUSA_ENTER="JT_MEDUSA_ENTER_111001901",e.JT_MEDUSA_STONE="JT_MEDUSA_STONE_111001901",e.JT_MEDUSA_WILD="JT_MEDUSA_WILD_111001901",e.JT_PAX_WILD="JT_PAX_WILD_111001901",e.JT_PAX_BEGIN_SPIN="JT_PAX_BEGIN_SPIN_111001901",e.JT_LINE_ATTACK="JT_LINE_ATTACK_111001901",e.ANIMA_EVENT_MOTION="ANIMA_EVENT_MOTION_111001901",e.ANIMA_EVENT_BEING="ANIMA_EVENT_BEING_111001901",e.ANIMA_EVENT_DEFENSE="ANIMA_EVENT_DEFENSE_111001901",e.ANIMA_EVENT_SUBGEM="ANIMA_EVENT_SUBGEM_111001901",e.ANIMA_EVENT_PERIFYING="ANIMA_EVENT_PERIFYING_111001901",e.ANIMA_EVENT_FREE2START="ANIMA_EVENT_FREE2START_111001901",e.ANIMA_EVENT_FREE2WILD="ANIMA_EVENT_FREE2WILD_111001901",e.ANIMA_EVENT_FREE2WILD_SHOOT="ANIMA_EVENT_FREE2WILD_SHOOT_111001901",e.COLLECT_ELEM="COLLECT_ELEM111001901",e.BG_TAG_CHANGE="BG_TAG_CHANGE111001901",e.SHOW_BLOOD_ANIMA="SHOW_BLOOD_ANIMA111001901",e.JT_PXS_PUSH_WILD="JT_PXS_PUSH_WILD111001901",e.EVENT_REDER_AFTER="EVENT_REDER_AFTER",e.EVENT_UPDATE_BANNER_WINSCORE="EVENT_UPDATE_BANNER_WINSCORE"}(n.EventName||(n.EventName={})),function(e){e.SuperWin="SuperWin",e.MargeWin="MargeWin",e.BigWin="BigWin",e.Lose="Lose",e.win="win",e.fiveEven="fiveEven",e.wild="wild"}(n.WinType||(n.WinType={})),function(e){e.FREE_GAME_1="11100190101",e.STONE_ROLLER_POWER="11100190103",e.STONE_ROLLER_GEM="11100190102",e.JAR_SELECT="11100190104",e.FREE_GAME_2="11100190105"}(n.ELgId111001901||(n.ELgId111001901={})),function(e){e.COIN="0401",e.AGAIN="0402",e.GEM="0201",e.POWER="0301"}(n.Item111001901||(n.Item111001901={})),function(e){e[e.NONE=0]="NONE",e[e.NORMAL=1]="NORMAL",e[e.FREE1=2]="FREE1",e[e.FREE2=3]="FREE2"}(n.BG_TAG111001901||(n.BG_TAG111001901={})),cc._RF.pop()},{}],GameLayer111001901:[function(e,t,n){"use strict";cc._RF.push(t,"03dfd0k2WFPcJVsFSNgFaM+","GameLayer111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../common/GameEventName111001901"),s=e("../main/Main111001901"),c=e("../gameBg/FreeBottom111001901"),l=e("../common/JTScattask11105701"),p=e("../roller/scrollerSkins/JTLayerManager111001901"),u=e("../roller/scrollerSkins/JTChildManager111001901"),d=e("../roller/scrollerSkins/JTLogicFactroy111001901"),h=e("../roller/GameRoller111001901"),f=e("./UpdateWin111001901"),m=e("./GemCtrl111001901"),y=e("../gameBg/Free1Bg111001901"),_=e("../freeGame/StoneLayer111001901"),g=e("../gameBg/GameBg111001901"),v=e("../gameBg/Free2Bg111001901"),E=cc._decorator,S=E.ccclass,N=E.property,A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.freeBottomScript=null,t.effectLayer=null,t.wildLayer=null,t.bigWinAnima=[],t.freeSlotMaskNode=null,t.windSKe=null,t.winEffectLayer=null,t.frameLayer=null,t.isAllShow=!1,t.free2Recover=!1,t.scatterTask=null,t.wildTask=null,t.scroller=null,t.idArr=[],t.bUptime=!0,t}var n;return i(t,e),n=t,Object.defineProperty(t,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),slot.SlotConfigManager.instance.registerJPTypes(3),n._instance=this},t.prototype.addEventListener=function(){e.prototype.addEventListener.call(this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_CLICK_ELEMENT_VIEW,this.playSoundElement,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_PLAYER_CLICKED_SINGLE_START_BTN,this.onClickStart,this),game.EventManager.getInstance().addEventListener(slot.CommonEventNames.EVENT_CLOSE_LOADING_VIEW,this.enterGame,this)},t.prototype.removeEventListener=function(){e.prototype.removeEventListener.call(this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_CLICK_ELEMENT_VIEW,this.playSoundElement,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_PLAYER_CLICKED_SINGLE_START_BTN,this.onClickStart,this),game.EventManager.getInstance().removeEventListener(slot.CommonEventNames.EVENT_CLOSE_LOADING_VIEW,this.enterGame,this)},t.prototype.enterGame=function(){this.scheduleOnce(function(){var e=g.default.instance.curTag;console.log("YYY enterGame curTag="+e),e==r.BG_TAG111001901.FREE1?slot.SoundMger.instance.playMusic("Free_Back_Music",!0):e==r.BG_TAG111001901.FREE2?slot.SoundMger.instance.playMusic("Extra_Bgm",!0):slot.SoundMger.instance.playMusic("Game_Back_Music",!0)},.1)},t.prototype.refreshRoom=function(){for(var e=0;e<this.scroller.items.length;e++){var t=this.scroller.items[e];t.adjustSkinRenders(!0);for(var n=0;n<t.items.length;n++){var o=t.items[n];o.active&&o.onRollEnd(!1)}}},t.prototype.onScrollerFlowComplete=function(){console.log("\u6240\u6709\u6d41\u7a0b\u90fd\u5b8c\u6210"),h.default.instance.isNormalJt=!1},t.prototype.onInit=function(){slot.SpinManager.instance.isFullLineAvailable=!1,this._initSlotMachineView()},t.prototype.onInitScroller=function(e){var t=this,n=t.scroller=e.scroller,o=slot.SlotConfigManager.instance.DataGame.getData(slot.SlotConfigManager.instance.gameID);n.setupFactory(new p.default,new u.default,new d.default),n.addMixItemConfig(11,3,1),n.addMixItemConfig(12,3,1),n.addMixItemConfig(13,3,1);var i=n.options(slot.JTScrollingColumnMixPipeline,slot.JTScrollerGroup.USE_CONVERT_MROE_LIST,o.column,e.scrollingComplete);i.childOption(slot.JTCreateColumnMixScrolling,slot.JTOptionType.OPTION_CREATE),i.childOption(slot.JTBeginColumnMixScrolling,slot.JTOptionType.OPTION_BEGIN_RUNNING,e.beginScrolling),i.childOption(slot.JTRunColumnMixScrolling,slot.JTOptionType.OPTION_RUNNING,e.onSpinPreStop),i.childOption(slot.JTOverColumnMixScrolling,slot.JTOptionType.OPTION_OVER_RUNNING,e.scrollingProgress),n.setupDefaultItemList(t.getSourceList,slot.SlotConfigManager.instance.DataElement.getKeys(),!1,t.getFreeSourceList),slot.JTDefaultItemRender.setPlayCoinIndex(2,7,2),t.scatterTask=new l.default,t.scatterTask.config(11,2,"50-80-1",1e3,1,"",!0,null,function(){},slot.JTScatterTask.ITEM_COUNT_MODE,[1,2,3,4,5]),n.registerTask(slot.JTRuleTaskManager.TYPE_SCATTER,t.scatterTask,new slot.JTTaskContainer),t.scatterTask.onScatterComplte=function(e){e.skinLoader.active=!1,slot.SoundMger.instance.stopEffect("Reel_Quick"),slot.SoundMger.instance.stopEffect("Reel_Quick_6s"),cc.log("======\u5206\u6563\u505c\u6b62\u56de\u8c03")},slot.SpinManager.customGridsCallback=function(){}},t.prototype._initSlotMachineView=function(){var e=this;e.slotMachine.gridWidth=141.6,e.slotMachine.gridHeight=496/3,e.slotMachine.showLineInterval=2e3,e.slotMachine.playRenderInterval=0,e.slotMachine.afterRender(e,e._rederAfter),e.slotMachine.onItemRender(e,e._onSpinSlotRender),e._registerSlotMachineAnimation()},t.prototype._rederAfter=function(){var e;slot.SpinManager.instance.spinTouchEnable=!0,game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_REDER_AFTER),(null===(e=slot.SpinManager.instance)||void 0===e?void 0:e.totalWin)>0&&f.default.instance.showWinCoin(slot.SpinManager.instance.totalWin)},t.prototype._onSpinSlotRender=function(){},t.prototype._registerSlotMachineAnimation=function(){var e=this;this.slotMachine.onContinuousNotWinAnimation(this,this._playContinuousNotWinAnimation),this.slotMachine.onNormalRewardsAnimation(this,this._playNormalRewardsAnimation),this.slotMachine.onFullLineAnimation(this,this._playFullLineAnimation),this.slotMachine.onGreatRewardsAnimation(this,this._playGreatRewardsAnimation),this.slotMachine.onMiddleRewardsAnimation(this,this._playMiddleRewardsAnimation),this.slotMachine.onSmallRewardsAnimation(this,this._playSmallRewardsAnimation),this.slotMachine.onSpinStart(this,this._onSpinStart),this.slotMachine.onSpinBegin(this,this._onSpinBegin),this.slotMachine.onSpinStop(this,this._onSpinStop),this.slotMachine.onSpinComplete(this,this._onSpinComplete),this.slotMachine.onShowMoreWinLineCb=function(t,n){return e.isAllShow=n,!0}},t.prototype._onSpinStart=function(e){var t=this.scroller.items[e];t.reset();for(var n=0;n<t.items.length;n++)t.items[n].onStartRoll();this.freeBottomScript.updateFreeTimes()},t.prototype._onSpinBegin=function(){slot.SlotMachineView.instance.scroller.renders.forEach(function(e){return e.recover()}),game.EventManager.getInstance().raiseEvent(r.EventName.GAME_SPIN_START),slot.SoundMger.instance.playEffect("Spin_Reel_Loop",!0),this.callSpinFunction("recover"),this.bUptime=!0,slot.FreeGameManager.instance.isTreateFromFreeGame&&game.EventManager.getInstance().raiseEvent(r.EventName.FREE_GAME_SPIN_BEGIN),this.freeBottomScript.updateFreeTimes(),slot.FreeGameManager.instance.hasFreeGame||m.default.instance.subMp(),this.free2Recover&&(this.free2Recover=!1,v.default.instance.beginSpin())},t.prototype._onSpinComplete=function(){game.EventManager.getInstance().raiseEvent(r.EventName.GAME_SPIN_STOP),this.scroller.items.forEach(function(e){e.opacity=255}),slot.FreeGameManager.instance.isTreateFromFreeGame&&game.EventManager.getInstance().raiseEvent(r.EventName.FREE_GAME_SPIN_STOP),slot.SoundMger.instance.stopEffect("Spin_Reel_Loop")},t.prototype._onSpinStop=function(e){var t="Reel_Bounce"+(e+1);slot.SoundMger.instance.playEffect(t,!1)},t.prototype._playContinuousNotWinAnimation=function(e,t){t.run()},t.prototype._playNormalRewardsAnimation=function(e,t){this.showWinAniView(slot.WinAniType.Normal,e,t,!0,!1),game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_UPDATE_BANNER_WINSCORE,e)},t.prototype._playFullLineAnimation=function(e,t){t.run()},t.prototype._playGreatRewardsAnimation=function(e,t){var n=this;cc.log("\u64ad\u653e\u5927\u5956");var o=slot.Handler.create(this,function(){n.winEndCb(e,t)});this.showWinAniView(slot.WinAniType.Great,e,o,!0,!1)},t.prototype._playMiddleRewardsAnimation=function(e,t){var n=this;cc.log("\u64ad\u653e\u4e2d\u5956");var o=slot.Handler.create(this,function(){n.winEndCb(e,t)});this.showWinAniView(slot.WinAniType.Middle,e,o,!0,!1)},t.prototype._playSmallRewardsAnimation=function(e,t){var n=this;cc.log("\u64ad\u653e\u5c0f\u5956");var o=slot.Handler.create(this,function(){n.winEndCb(e,t)});this.showWinAniView(slot.WinAniType.Small,e,o,!0,!1)},t.prototype.winEndCb=function(e,t){game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_UPDATE_BANNER_WINSCORE,e,t)},t.prototype.playSoundElement=function(){},t.prototype.restoreInitFreeGame=function(e){cc.log("== restoreResp  resp: ",e),h.default.instance.typeArr=[],this.idArr=[];for(var t=0,n=e.lgHistory;t<n.length;t++){var o=n[t],i=o.result[0],a=o.reward[0].number.toString();this.index_n=Number(a.split("111001901")[1]),this.idArr.push(i),h.default.instance.typeArr.push(this.index_n)}cc.log("==    GameRoller111001901.instance.typeArr: ",h.default.instance.typeArr)},t.prototype.onClickStart=function(){slot.SoundMger.instance.playEffect("Spin_Button_Sound1",!1)},t.prototype.addFreeSpinsAni=function(e,t,n){var o=this;if(console.log("\u5f00\u59cb\u514d\u8d39\u6e38\u620f",t),t.type==slot.OperationState.Free){var i=t.sumTimes;slot.SlotMachineView.instance.isEnabledMask(!1),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_DEL_ELEMENT_PAY_ID_HIDE),this.freeBottomScript.setFreeTimes(i);var a=slot.Handler.create(this,function(){n.runWith(o),game.EventManager.getInstance().raiseEvent(r.EventName.FREE_GAME_START,!0),o.hideOptBar()});game.UIManager.getInstance().open(s.UIID.BONUS_GAME_START,[i,a])}else t.type==slot.OperationState.ReSpin&&n.runWith(this)},t.prototype.onInitFreeGame=function(e,t){switch(console.log("onInitFreeGame ",e),g.default.instance.curTag==r.BG_TAG111001901.FREE1?slot.SoundMger.instance.playMusic("Free_Back_Music",!0):(slot.SoundMger.instance.playMusic("Extra_Bgm",!0),this.free2Recover=!0),this.restoreInitFreeGame(e),e.times<e.sumTimes&&(h.default.instance.isNolow=!0),e.type){case slot.OperationState.Free:this.hideOptBar(),game.EventManager.getInstance().raiseEvent(r.EventName.FREE_GAME_START,!0),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_SETINFO,2),this.freeBottomScript.setFreeTimes(e.times);break;case slot.OperationState.ReSpin:t.runWith(this),console.log("\u89e6\u53d1\u91cd\u8f6c!!!")}t.runWith(!0)},t.prototype.onFreeGameTriggered=function(e,t){switch(console.log("onFreeGameTriggered",e),e.type){case slot.OperationState.Free:f.default.instance.hide(),this.hideOptBar(),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_SETINFO,2),y.default.instance.isFrist=!0;break;case slot.OperationState.ReSpin:console.log("\u89e6\u53d1\u91cd\u8f6c!!!")}t.runWith(!0)},t.prototype.onFreeGameInfoUpdated=function(e){switch(console.log("onFreeGameInfoUpdated",e),e.type){case slot.OperationState.Free:case slot.OperationState.ReSpin:}},t.prototype.onBonusGameTriggered=function(e,t){slot.SoundMger.instance.stopMusic("Game_Back_Music"),console.log("\u5c0f\u6e38\u620fid: ",e.bonusGameId.toString()),console.log("onBonusGameTriggered",e),t.runWith(!0)},t.prototype.onBonusGameOver=function(e,t){console.log("\u5c0f\u6e38\u620f\u7ed3\u675f"),t.runWith(this),slot.SoundMger.instance.playMusic("Game_Back_Music")},t.prototype.onFreeGameOver=function(e,t){var n=this;switch(console.log("onFreeGameOver",e),e.type){case slot.OperationState.Free:var o=slot.Handler.create(this,function(){game.EventManager.getInstance().raiseEvent(r.EventName.FREE_GAME_OVER),n.scheduleOnce(function(){t.runWith(!0),slot.SoundMger.instance.playMusic("Game_Back_Music",!0),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_SETINFO,1),e.sumCoin>0?game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_STOP):game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_START)},1),n.showOptBar();var o=slot.SpinManager.instance.rollingResult.nextState;o?(m.default.instance.curGem=o.normalData.handleState.game_1110019.data.gem,m.default.instance.curPower=o.normalData.handleState.game_1110019.data.power):(m.default.instance.curGem=e.handleState.game_1110019.data.gem,m.default.instance.curPower=e.handleState.game_1110019.data.power),m.default.instance.pullUpEndShow(),slot.SoundMger.instance.stopMusic("Free_Game_Back_Music"),e.sumCoin>0&&f.default.instance.showTwCoin(e.sumCoin)});this.scheduleOnce(function(){game.EventManager.getInstance().raiseEvent(r.EventName.BG_TAG_CHANGE,r.BG_TAG111001901.NORMAL),_.default.instance.reset();for(var t=1;t<6;t++)n.showSpinSkin(t,!0);game.UIManager.getInstance().open(s.UIID.BONUS_GAME_RESULT,[o,e.sumTimes,e.sumSpinCoin])},2);break;case slot.OperationState.ReSpin:t.runWith(this)}},t.prototype.onFreeGameTimesUpdated=function(e,t){console.log("onFreeGameTimesUpdated:",e,t);var n=this.freeBottomScript.times;this.freeBottomScript.times=e,this.freeBottomScript.setFreeTimes(e),this.bUptime||(this.freeBottomScript.freeTimeNumAtlas.string=n.toString())},t.prototype.onFreeGameTriggerAgain=function(e,t){var n=this;console.log("onFreeGameTriggerAgain",e),this.bUptime=!1;var o=slot.Handler.create(this,function(){n.freeBottomScript.addFreeTimes(5,t)});game.EventManager.getInstance().raiseEvent(r.EventName.BG_TAG_CHANGE,r.BG_TAG111001901.FREE2),game.UIManager.getInstance().open(s.UIID.FREE_AGAIN,o)},t.prototype.hideOptBar=function(){slot.MainView.instance.node.getChildByName("gameControPrefab").opacity=0,slot.MainView.instance.node.getChildByName("menu").active=!1,slot.ScoreBase.instance.node.y=-650},t.prototype.showOptBar=function(){slot.MainView.instance.node.getChildByName("gameControPrefab").opacity=255,slot.MainView.instance.node.getChildByName("menu").active=!0,slot.ScoreBase.instance.node.y=-460},t.prototype.callSpinFunction=function(e){for(var t=0;t<this.scroller.items.length;t++)for(var n=this.scroller.items[t],o=0;o<n.items.length;o++){var i=n.items[o];i.active&&i[e]()}},t.prototype.showSpinSkin=function(e,t){void 0===t&&(t=!0);for(var n=this.scroller.items[e-1],o=0;o<n.items.length;o++){var i=n.items[o];i.active&&(t?i.showSkin():i.hideSkin())}},t.prototype.runWaveByRoller=function(e){this.scroller.items.forEach(function(t,n){var o=n<e;n!=e&&t.items.forEach(function(e){o?e.runLeftMove():e.runRightMove()})})},t.prototype.onCLickTest=function(){m.default.instance.curGem=1,m.default.instance.curPower=10,m.default.instance.pullUpEndShow()},a([N(c.default)],t.prototype,"freeBottomScript",void 0),a([N(cc.Node)],t.prototype,"effectLayer",void 0),a([N(cc.Node)],t.prototype,"wildLayer",void 0),a([N(cc.Animation)],t.prototype,"bigWinAnima",void 0),a([N(cc.Node)],t.prototype,"freeSlotMaskNode",void 0),a([N(cc.Node)],t.prototype,"windSKe",void 0),n=a([S],t)}(slot.AbstractMainView);n.default=A,cc._RF.pop()},{"../common/GameEventName111001901":"GameEventName111001901","../common/JTScattask11105701":"JTScattask11105701","../freeGame/StoneLayer111001901":"StoneLayer111001901","../gameBg/Free1Bg111001901":"Free1Bg111001901","../gameBg/Free2Bg111001901":"Free2Bg111001901","../gameBg/FreeBottom111001901":"FreeBottom111001901","../gameBg/GameBg111001901":"GameBg111001901","../main/Main111001901":"Main111001901","../roller/GameRoller111001901":"GameRoller111001901","../roller/scrollerSkins/JTChildManager111001901":"JTChildManager111001901","../roller/scrollerSkins/JTLayerManager111001901":"JTLayerManager111001901","../roller/scrollerSkins/JTLogicFactroy111001901":"JTLogicFactroy111001901","./GemCtrl111001901":"GemCtrl111001901","./UpdateWin111001901":"UpdateWin111001901"}],GameRoller111001901:[function(e,t,n){"use strict";cc._RF.push(t,"72a53/MmPxGSYwZqThu/8oT","GameRoller111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../common/GameEventName111001901"),s=e("../gameBg/GameBg111001901"),c=e("../game/GameLayer111001901"),l=e("../game/GemCtrl111001901"),p=e("../game/RockLayer111001901"),u=e("../game/CollectElem111001901"),d=e("../freeGame/StoneLayer111001901"),h=e("../gameBg/Free1Bg111001901"),f=e("../gameBg/NormalBg111001901"),m=e("../freeGame/WildLayer111001901"),y=e("../gameBg/Free2Bg111001901"),_=e("../common/Banner111001901"),g=e("../game/UpdateWin111001901"),v=cc._decorator,E=v.ccclass,S=v.property,N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.freeBg=[],t.normalBg=[],t.rockLayer=null,t.bigWinPrefab=null,t.isRockRoller=!1,t.isFreeSpin=!1,t.grid=[],t.gridChanged=[],t.isNormalJt=!1,t.gameType=null,t.stoneRoller=[],t.medusaType=[],t.petrochemicalRoller=[],t.wildRoller=[],t.replacePosList=[],t.medusaFree=null,t.isMedusaType=!1,t.medusaGem=0,t.lineAttack=[],t.lastHp=-1,t.nextState=slot.OperationState.Normal,t.typeArr=[],t.isBeforeFreeSpin=null,t}var n;return i(t,e),n=t,t.prototype.onLoad=function(){this.addEventListener(),n.instance=this},t.prototype.addEventListener=function(){game.EventManager.getInstance().addEventListener(slot.NetSlotConst.SPINRESP,this.onRollingResp,this),game.EventManager.getInstance().addEventListener(r.EventName.JT_ROCK_ROLLER,this.jtRockRoller,this),game.EventManager.getInstance().addEventListener(r.EventName.JT_MEDUSA_ENTER,this.jtMedusaEnter,this),game.EventManager.getInstance().addEventListener(r.EventName.JT_MEDUSA_STONE,this.jtMedusaStone,this),game.EventManager.getInstance().addEventListener(r.EventName.JT_MEDUSA_WILD,this.jtMedusaWild,this),game.EventManager.getInstance().addEventListener(r.EventName.JT_PAX_WILD,this.jtPxsWild,this),game.EventManager.getInstance().addEventListener(r.EventName.JT_PAX_BEGIN_SPIN,this.jtPxsBeginSpin,this),game.EventManager.getInstance().addEventListener(r.EventName.JT_LINE_ATTACK,this.jtLineAttack,this),game.EventManager.getInstance().addEventListener(r.EventName.FREE_GAME_START,this.onFreeGameStart,this),game.EventManager.getInstance().addEventListener(r.EventName.FREE_GAME_OVER,this.onFreeGameOver,this),game.EventManager.getInstance().addEventListener(r.EventName.FREE_GAME_SPIN_BEGIN,this.onFreeGameSpinBegin,this),game.EventManager.getInstance().addEventListener(r.EventName.FREE_GAME_SPIN_STOP,this.onFreeGameSpinStop,this),game.EventManager.getInstance().addEventListener(r.EventName.GAME_SPIN_STOP,this.onGameSpinStop,this),game.EventManager.getInstance().addEventListener(r.EventName.GAME_SPIN_START,this.onGameSpinStart,this),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.RESTORERESP,this.onRestoreResp,this),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.LGDATARESP,this.onLgDataResp,this),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.LGACTIONRESP,this.onLgActionResp,this),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.CHANGECOSTRESP,this.onChangeCostResp,this)},t.prototype.removeEventListener=function(){game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.SPINRESP,this.onRollingResp,this),game.EventManager.getInstance().removeEventListener(r.EventName.JT_ROCK_ROLLER,this.jtRockRoller,this),game.EventManager.getInstance().removeEventListener(r.EventName.JT_MEDUSA_STONE,this.jtMedusaStone,this),game.EventManager.getInstance().removeEventListener(r.EventName.JT_MEDUSA_ENTER,this.jtMedusaEnter,this),game.EventManager.getInstance().removeEventListener(r.EventName.JT_MEDUSA_WILD,this.jtMedusaWild,this),game.EventManager.getInstance().removeEventListener(r.EventName.JT_PAX_WILD,this.jtPxsWild,this),game.EventManager.getInstance().removeEventListener(r.EventName.JT_PAX_BEGIN_SPIN,this.jtPxsBeginSpin,this),game.EventManager.getInstance().removeEventListener(r.EventName.FREE_GAME_START,this.onFreeGameStart,this),game.EventManager.getInstance().removeEventListener(r.EventName.FREE_GAME_OVER,this.onFreeGameOver,this),game.EventManager.getInstance().removeEventListener(r.EventName.FREE_GAME_SPIN_BEGIN,this.onFreeGameSpinBegin,this),game.EventManager.getInstance().removeEventListener(r.EventName.FREE_GAME_SPIN_STOP,this.onFreeGameSpinStop,this),game.EventManager.getInstance().removeEventListener(r.EventName.GAME_SPIN_STOP,this.onGameSpinStop,this),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.RESTORERESP,this.onRestoreResp,this),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.LGDATARESP,this.onLgDataResp,this),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.LGACTIONRESP,this.onLgActionResp,this),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.CHANGECOSTRESP,this.onChangeCostResp,this)},t.prototype.onRollingResp=function(e,t){var n=this,o=this.grid=t.spinResult.grid,i=(this.gridChanged=t.spinResult.gridChanged,t.updateList.find(function(e){return 6==e.type}));if(this.gameType=i.value.handleState.game_1110019,this.stoneRoller=this.gameType.data.stoneRoller,this.medusaType=this.gameType.data.normalMedusa,this.medusaFree=this.gameType.data.freeMedusa,this.medusaGem=0,this.lineAttack=[],this.isNormalJt=!0,console.log("\u7f8e\u675c\u838e\u534f\u8bae: ",this.gameType),console.log("\u514d\u8d39\u534f\u8bae: ",this.medusaFree),t.nextState?this.nextState=t.nextState.state:this.nextState=t.state,u.default.instance.isCollectOn=!1,l.default.instance.curGem=this.gameType.data.gem,l.default.instance.curPower=this.gameType.data.power,console.log("!set_grid ",o),this.isRockRoller=this.stoneRoller&&this.stoneRoller.length>0,this.isMedusaType=!1,this.isRockRoller&&(slot.SpinManager.instance.isInTurbo?this.showStone():this.scheduleOnce(function(){n.showStone()},.5)),this.medusaType.length>0&&this.medusaType.forEach(function(e){e.isTrigger&&(console.log("\u7f8e\u675c\u838e\u653b\u51fb : ",n.medusaType),n.isMedusaType=!0,f.default.instance.playMedusa("enter"),n.medusaGem=e.getGemNum,e.getGemNum>0&&(u.default.instance.isCollectOn=!0))}),this.isMedusaType||this.medusaFree||s.default.instance.playMedusaRetreat(),this.petrochemicalRoller=[],this.wildRoller=[],this.replacePosList=[],this.medusaFree){h.default.instance.setHp(this.medusaFree.hp,!1),this.petrochemicalRoller=this.medusaFree.petrochemicalRoller,this.wildRoller=this.medusaFree.wildRoller,console.log("\u7f8e\u675c\u838eHP = ",this.medusaFree.hp),console.log("\u77f3\u5316\u6eda\u8f74:",this.medusaFree.petrochemicalRoller),console.log("\u767e\u642d\u6eda\u8f74:",this.medusaFree.wildRoller),this.medusaFree.lineAttack.length>0&&this.lastHp!=this.medusaFree.hp&&(u.default.instance.isCollectOn=!0,this.lineAttack=this.medusaFree.lineAttack),this.wildRoller.length>0&&m.default.instance.setData(this.wildRoller);var a=t.updateList.find(function(e){return 11==e.type});a.value.random.length>0&&(this.replacePosList=a.value.random[0].replacePosList),this.lastHp=this.medusaFree.hp}else this.lastHp=-1,m.default.instance.reset();console.log("\u767e\u642d\u4f4d\u7f6e\uff1a",this.replacePosList),y.default.instance.setWildList(this.replacePosList)},t.prototype.changeGrid=function(){var e=this;this.wildRoller.forEach(function(t){for(var n=3*(t.rollerId-1),o=0;o<3;o++)e.grid[o+n]=11,e.gridChanged[o+n]=11})},t.prototype.jtRockRoller=function(e,t){var n=this;if(console.log("\u8fdb\u5165 \u6d41\u7a0b  jtRockRoller "),!this.isNormalJt)return t.runWith(this);if(this.isRockRoller){c.default.instance.callSpinFunction("onSpinComplete"),this.scheduleOnce(function(){n.rockLayer.playShine()},.5),this.scheduleOnce(function(){n.rockLayer.playStoneBreak()},1.5);var o=2;this.isStoneHasGift()&&(o=3),this.scheduleOnce(function(){console.log("\u6d41\u7a0b jtRockRoller \u5b8c\u62101"),t.run()},o)}else console.log("\u6d41\u7a0b  jtRockRoller \u5b8c\u62102"),t.run()},t.prototype.jtMedusaEnter=function(e,t){var n=this;if(console.log("\u8fdb\u5165 \u6d41\u7a0b \u7f8e\u675c\u838e\u51fa\u73b0"),!this.isNormalJt)return t.runWith(this);if(this.isMedusaType){var o=4;this.medusaGem>0?(u.default.instance.isCollectOn=!1,u.default.instance.playAttack(),l.default.instance.playAddTmpGem(2),o=5):game.EventManager.getInstance().raiseEvent(r.EventName.MEDUSA_SKILL,this.medusaGem),this.scheduleOnce(function(){console.log("\u6d41\u7a0b \u7f8e\u675c\u838e\u51fa\u73b0 \u5b8c\u62102"),u.default.instance.reset();var e=!1;n.gameType.data.event.forEach(function(t){5==t.type&&(e=!0)}),e?l.default.instance.resetBar(t):t.runWith(n)},o)}else{console.log("\u6d41\u7a0b \u7f8e\u675c\u838e\u51fa\u73b0 \u5b8c\u62101"),l.default.instance.updateGem(),t.runWith(this);var i=!1;this.gameType.data.event.forEach(function(e){5==e.type&&(i=!0)}),i?l.default.instance.resetBar(t):t.runWith(this)}},t.prototype.jtMedusaWild=function(e,t){var n=this;if(console.log("\u8fdb\u5165\u6d41\u7a0b: \u5806\u53e0\u767e\u642d"),!this.isNormalJt)return t.runWith(this);if(this.wildRoller.length>0){var o=!1;this.wildRoller.forEach(function(e){3==e.remainRound&&(d.default.instance.playBreak(e.rollerId),o=!0)});var i=o?5:0;this.scheduleOnce(function(){console.log("\u5b8c\u6210\u6d41\u7a0b: \u5806\u53e0\u767e\u642d2"),t.runWith(n)},i)}else console.log("\u5b8c\u6210\u6d41\u7a0b: \u5806\u53e0\u767e\u642d1"),t.runWith(this)},t.prototype.jtMedusaStone=function(e,t){var n=this;if(console.log("\u8fdb\u5165\u7f8e\u675c\u838e\u77f3\u5316\u6eda\u8f74\u6d41\u7a0b\uff1ajtMedusaStone"),!this.isNormalJt)return this.showBigWildStone(!1),t.runWith(this);if(this.petrochemicalRoller.length<=0)d.default.instance.reset(),console.log("\u5b8c\u6210\u6d41\u7a0b:jtMedusaStone1"),this.showBigWildStone(!1),t.runWith(this);else{var o=2,i=!1;this.petrochemicalRoller.forEach(function(e){2==e.remainRound&&(i=!0)}),i&&(o=4,h.default.instance.playMedusaPerifying()),d.default.instance.setData(this.petrochemicalRoller),this.scheduleOnce(function(){console.log("\u5b8c\u6210\u6d41\u7a0b:jtMedusaStone2"),n.showBigWildStone(!1),t.runWith(n)},o),this.petrochemicalRoller.forEach(function(e){2==e.remainRound&&c.default.instance.showSpinSkin(e.rollerId,!1)})}},t.prototype.jtPxsWild=function(e,t){if(console.log("\u8fdb\u5165\u6d41\u7a0b\uff1a\u5e15\u4fee\u65af\u7ed9\u767e\u642d"),!this.isNormalJt)return t.runWith(this);this.replacePosList.length>0?game.EventManager.getInstance().raiseEvent(r.EventName.JT_PXS_PUSH_WILD,t):(console.log("\u5b8c\u6210\u6d41\u7a0b\uff1a\u5e15\u4fee\u65af\u7ed9\u767e\u642d1"),t.runWith(this))},t.prototype.jtPxsBeginSpin=function(e,t){var n=this;if(console.log("\u8fdb\u5165\u6d41\u7a0b\uff1a\u5e15\u4fee\u65af\u65cb\u8f6c"),!this.isNormalJt)return t.runWith(this);s.default.instance.curTag,this.nextState,s.default.instance.curTag==r.BG_TAG111001901.FREE2&&this.nextState==slot.OperationState.Free?(y.default.instance.beginSpin(),this.scheduleOnce(function(){console.log("\u5b8c\u6210\u6d41\u7a0b\uff1a\u5e15\u4fee\u65af\u65cb\u8f6c2"),t.runWith(n)},2)):(console.log("\u5b8c\u6210\u6d41\u7a0b\uff1a\u5e15\u4fee\u65af\u65cb\u8f6c1"),t.runWith(this))},t.prototype.jtLineAttack=function(e,t){var n=this;if(console.log("\u8fdb\u5165\u6d41\u7a0b\uff1a\u4e2d\u5956\u7ebf\u653b\u51fb"),!this.isNormalJt)return t.runWith(this);this.lineAttack.length>0?(u.default.instance.isCollectOn=!1,u.default.instance.playAttack(),this.scheduleOnce(function(){h.default.instance.updateCurHp()},2),this.scheduleOnce(function(){console.log("\u5b8c\u6210\u6d41\u7a0b\uff1a\u4e2d\u5956\u7ebf\u653b\u51fb2"),u.default.instance.reset(),t.runWith(n)},5)):(console.log("\u5b8c\u6210\u6d41\u7a0b\uff1a\u4e2d\u5956\u7ebf\u653b\u51fb1"),t.runWith(this))},t.prototype.switchFreeGameBg=function(e){this.freeBg.forEach(function(t){t&&(t.active=e)}),this.normalBg.forEach(function(t){t&&(t.active=!e)})},t.prototype.onFreeGameStart=function(e,t){void 0===t&&(t=!1),cc.log("onFreeGameStart"),this.switchFreeGameBg(!0)},t.prototype.onFreeGameOver=function(){cc.log("onFreeGameOver"),this.switchFreeGameBg(!1)},t.prototype.onFreeGameSpinStop=function(){this.isBeforeFreeSpin=this.isFreeSpin},t.prototype.onFreeGameSpinBegin=function(){slot.SoundMger.instance.playEffect("Free_Scroll_Sound_Effects",!0)},t.prototype.onGameSpinStop=function(){var e=c.default.instance.scroller.items;this.isRockRoller&&this.stoneRoller.forEach(function(t){e[t.rollerId-1].items.forEach(function(e){e.active&&e.stoneFrame()})}),this.showBigWildStone(!0),slot.SoundMger.instance.stopEffect("Free_Scroll_Sound_Effects")},t.prototype.onGameSpinStart=function(){this.showBigWildStone(!1)},t.prototype.showBigWildStone=function(e){for(var t=1;t<6;t++)c.default.instance.showSpinSkin(t,!0);e&&(this.wildRoller.forEach(function(e){c.default.instance.showSpinSkin(e.rollerId,!1)}),this.petrochemicalRoller.forEach(function(e){1==e.remainRound&&c.default.instance.showSpinSkin(e.rollerId,!1)}))},t.prototype.onLgDataResp=function(e,t){var n=t.lgId.toString();cc.log("===\u5c0f\u6e38\u620f onLgDataResp:",t,"lgId=",n)},t.prototype.onLgActionResp=function(e,t){var n=t.lgId.toString();cc.log("===\u5c0f\u6e38\u620f onLgActionResp",t,"lgId = ",n)},t.prototype.onRestoreResp=function(e,t){var n;console.log(t);var o=t.state.normalData.spinInfo.spinResult;this.gameType=t.state.normalData.handleState.game_1110019,l.default.instance.curPower=this.gameType.data.power,l.default.instance.curGem=this.gameType.data.gem,l.default.instance.updatePower(!1),l.default.instance.updateGem(),this.grid=t.state.normalData.spinInfo.spinResult.grid,this.gridChanged=t.state.normalData.spinInfo.spinResult.gridChanged,this.nextState=t.state.state,o.nextState&&(this.nextState=o.nextState.state),t.state.freeData&&(this.medusaFree=t.state.freeData.handleState.game_1110019.data.freeMedusa,0==this.medusaFree.hp?(game.EventManager.getInstance().raiseEvent(r.EventName.BG_TAG_CHANGE,r.BG_TAG111001901.FREE2),this.lastHp=this.medusaFree.hp,(null===(n=t.state.freeData)||void 0===n?void 0:n.random.length)>0&&(this.replacePosList=t.state.freeData.random[0].replacePosList),y.default.instance.initRatate(this.replacePosList)):(game.EventManager.getInstance().raiseEvent(r.EventName.BG_TAG_CHANGE,r.BG_TAG111001901.FREE1),h.default.instance.setHp(this.medusaFree.hp)),this.petrochemicalRoller=this.medusaFree.petrochemicalRoller,this.wildRoller=this.medusaFree.wildRoller,this.wildRoller.length>0&&m.default.instance.resetData(this.wildRoller),this.petrochemicalRoller.length>0&&d.default.instance.resetData(this.petrochemicalRoller),l.default.instance.pullDownEndHide())},t.prototype.onChangeCostResp=function(e,t){var n=c.default.instance.scroller.items,o=t.normalData.spinInfo.spinResult.spinCoin;o=Number(o),this.gameType=t.normalData.handleState.game_1110019,this.isMedusaType=!1,this.isRockRoller=!1,this.stoneRoller=this.gameType.data.stoneRoller,this.stoneRoller.forEach(function(e){n[e.rollerId-1].items.forEach(function(e){e.active&&e.stoneFrame()})}),l.default.instance.curPower=this.gameType.data.power,l.default.instance.curGem=this.gameType.data.gem,l.default.instance.updatePower(!1),l.default.instance.updateGem(),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_DEL_ELEMENT_PAY_ID_HIDE),(o=0)<=0?(g.default.instance.hide(),_.default.instance.showStart()):(g.default.instance.showWinCoin(o),_.default.instance.hideBanner())},t.prototype.showStone=function(){var e=this;this.rockLayer.reset(),this.stoneRoller.forEach(function(t){e.rockLayer.showItem(t.rollerId,t.lgId.toString())})},t.prototype.isStoneHasGift=function(){var e=!1;return this.stoneRoller.forEach(function(t){"0"!=t.lgId.toString()&&(e=!0)}),e},t.instance=null,a([S(cc.Node)],t.prototype,"freeBg",void 0),a([S(cc.Node)],t.prototype,"normalBg",void 0),a([S(p.default)],t.prototype,"rockLayer",void 0),a([S(cc.Prefab)],t.prototype,"bigWinPrefab",void 0),n=a([E],t)}(slot.BaseView);n.default=N,cc._RF.pop()},{"../common/Banner111001901":"Banner111001901","../common/GameEventName111001901":"GameEventName111001901","../freeGame/StoneLayer111001901":"StoneLayer111001901","../freeGame/WildLayer111001901":"WildLayer111001901","../game/CollectElem111001901":"CollectElem111001901","../game/GameLayer111001901":"GameLayer111001901","../game/GemCtrl111001901":"GemCtrl111001901","../game/RockLayer111001901":"RockLayer111001901","../game/UpdateWin111001901":"UpdateWin111001901","../gameBg/Free1Bg111001901":"Free1Bg111001901","../gameBg/Free2Bg111001901":"Free2Bg111001901","../gameBg/GameBg111001901":"GameBg111001901","../gameBg/NormalBg111001901":"NormalBg111001901"}],GameSound111001901:[function(e,t,n){"use strict";cc._RF.push(t,"47ee8jq+5JNe5v9AM6vm5hR","GameSound111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){this.addEventListener()},t.prototype.onDestroy=function(){this.removeEventListener()},t.prototype.addEventListener=function(){game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_CHANGE_WIN_TYPE,this.winAniChange,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_BIG_PRIZE_COMPLETE,this.bigPrizeEnd,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_CLICK_ELEMENT_VIEW,this.clickElementView,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_CLICK_OPEN_MENU,this.clickOpenMenu,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_SUBBET_CHANGE,this.subbetChange,this)},t.prototype.removeEventListener=function(){},t.prototype.winAniChange=function(){slot.SoundMger.instance.playEffect("Prize_Bigwin_title_change",!1)},t.prototype.bigPrizeEnd=function(){},t.prototype.clickElementView=function(){slot.SoundMger.instance.playEffect("list_item_click1",!1)},t.prototype.clickOpenMenu=function(){slot.SoundMger.instance.playEffect("Currency_Button",!1)},t.prototype.subbetChange=function(){slot.SoundMger.instance.playEffect("slider_effect",!1)},t.prototype.start=function(){},a([s],t)}(cc.Component));n.default=c,cc._RF.pop()},{}],GemCtrl111001901:[function(e,t,n){"use strict";cc._RF.push(t,"24c31237CBLzpZyLTGxGwws","GemCtrl111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../common/GameEventName111001901"),s=e("./GameLayer111001901"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gemBar=null,t.powerBar=null,t.waterSubAnima=null,t.waterAddAnima=null,t.gemNode=[],t.gemAddNode=null,t.grayGemSpframe=[],t.norGemSpframe=[],t.gemBreakAnima=null,t.gemBreakWaveAnima=null,t._curPower=3,t._maxPower=12,t._powerCount=0,t._curGem=0,t._maxGem=3,t._waterWidth=54.5,t._subAnimaStartX=208,t._addAnimaStartX=271,t._gemAddPos=null,t}var n;return i(t,e),n=t,Object.defineProperty(t,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){var e=this;this.waterSubAnima.on(cc.Animation.EventType.FINISHED,function(){e.waterSubAnima.node.active=!1}),this.waterAddAnima.on(cc.Animation.EventType.FINISHED,function(){e.waterAddAnima.node.active=!1,e.updatePower()}),this._gemAddPos=this.gemAddNode.position.clone(),this.gemNode.forEach(function(e){e.active=!1}),this.waterAddAnima.node.active=!1,this.waterSubAnima.node.active=!1,this.gemAddNode.active=!1,n._instance=this,this.updatePower(),game.EventManager.getInstance().addEventListener(r.EventName.ANIMA_EVENT_SUBGEM,this.onAnimaEventSubGem,this),game.EventManager.getInstance().addEventListener(r.EventName.ANIMA_EVENT_DEFENSE,this.onAnimaEventDeffnse,this)},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.EventName.ANIMA_EVENT_SUBGEM,this.onAnimaEventSubGem,this),game.EventManager.getInstance().removeEventListener(r.EventName.ANIMA_EVENT_DEFENSE,this.onAnimaEventDeffnse,this)},Object.defineProperty(t.prototype,"curPower",{set:function(e){this._powerCount=e-this._curPower,this._curPower=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"curGem",{get:function(){return this._curGem},set:function(e){this._curGem=e},enumerable:!1,configurable:!0}),t.prototype.start=function(){},t.prototype.subMp=function(){this.playWaterVanish(),this._curPower--,this._curPower<0&&(this._curPower=this._maxPower),this.updatePower()},t.prototype.addMp=function(e){this._curPower+e>this._maxPower&&(e=this._maxPower-this._curPower),0!=e&&(this._curPower+=e,this.playWaterBonus(e),this.updatePower(!0))},t.prototype.updatePower=function(e){void 0===e&&(e=!1);var t=-this._curPower/this._maxPower;e?(this._powerCount>0&&this._powerCount<=3&&this.playWaterBonus(this._powerCount),cc.tween(this.powerBar).to(1,{fillRange:t}).start()):this.powerBar.fillRange=t},t.prototype.playWaterVanish=function(){var e=this._curPower;this.waterSubAnima.node.x=this._subAnimaStartX-this._waterWidth*(e-1),this.waterSubAnima.node.active=!0,this.waterSubAnima.play("water_vanish")},t.prototype.playWaterBonus=function(e){var t=this._curPower,n=.38*e;this.waterAddAnima.node.scaleX=n,this.waterAddAnima.node.x=this._addAnimaStartX-this._waterWidth*(t-1),this.waterAddAnima.node.active=!0,this.waterAddAnima.play("water_bonus"),slot.SoundMger.instance.playEffect("Blue_Potion_In",!1)},t.prototype.updateGem=function(){var e=this;this.gemNode.forEach(function(t,n){t&&(t.active=n<=e._curGem,t.opacity=255,t.getComponent(cc.Animation).stop(),t.getComponent(cc.Sprite).spriteFrame=e.norGemSpframe[n],t.scale=.6)})},t.prototype.playAddTmpGem=function(e){var t=this;void 0===e&&(e=0),this.gemAddNode.active=!0,this.gemAddNode.position=this._gemAddPos.clone();var n=this.gemAddNode.getChildByName("spark_partlice").getComponent(cc.ParticleSystem),o=this.gemAddNode.getChildByName("spark_partlice2").getComponent(cc.ParticleSystem),i=this.gemAddNode.getChildByName("shine");i.active=!1;var a=this.gemAddNode.getChildByName("magic");a.active=!0;var r=this.gemAddNode.getChildByName("light");r.active=!0;var s=this.getGemNotch(),c=cc.v2(this.gemAddNode.x,this.gemAddNode.y),l=cc.v2(s.x,s.y),p=[c,cc.v2(this._gemAddPos.x,this._gemAddPos.y+100),l],u=cc.bezierTo(.4,p);n.resetSystem(),cc.tween(this.gemAddNode).set({opacity:0}).delay(e).set({opacity:255}).by(.3,{y:-10}).by(.3,{y:10}).by(.3,{y:-10}).by(.3,{y:10}).call(function(){}).to(.1,{scale:1.1}).to(.2,{scale:1}).call(function(){o.resetSystem()}).then(u).call(function(){n.stopSystem(),a.active=!1,r.active=!1,i.active=!0,i.getComponent(sp.Skeleton).setAnimation(0,"xiaoyoux_shine",!1)}).delay(1).call(function(){t.updateGem(),t.gemAddNode.active=!1}).start()},t.prototype.playGemShake=function(){var e=null;if(this.gemNode.forEach(function(t){t.active&&(e=t)}),e){var t=e.x;cc.tween(e).repeat(5,cc.tween(e).by(.1,{x:-4}).by(.1,{x:4})).set({x:t}).start()}},t.prototype.playSubGemAnima=function(){var e=this,t=null,n=0;this.gemNode.forEach(function(e,o){e.active&&(t=e,n=o)}),t&&(t.getComponent(cc.Sprite).spriteFrame=this.grayGemSpframe[n],this.gemBreakAnima.node.position=t.position,this.gemBreakWaveAnima.node.position=t.position,cc.tween(t).repeat(3,cc.tween(t).by(.1,{x:-3}).by(.1,{x:3})).set({opacity:0}).call(function(){e.gemBreakAnima.play(),e.gemBreakWaveAnima.play(),slot.SoundMger.instance.playEffect("SoulStone_Crack",!1)}).set({scale:1}).delay(.5).call(function(){e.updateGem()}).start())},t.prototype.getGemNotch=function(){var e=null;return this.gemNode.forEach(function(t){0!=t.active||e||((e=t).active=!0,e.opacity=0)}),e||(e=this.gemNode[3]),e},t.prototype.showGemBarFilpY=function(e,t,n){void 0===e&&(e=!0),void 0===t&&(t=!0),this.gemBar.scaleY=t?-1:1,e?(this.gemBar.y=t?230:113,cc.tween(this.gemBar).to(.5,{y:t?113:230}).call(function(){n&&n()}).start()):this.gemBar.y=t?113:230},t.prototype.pullDownEndHide=function(){var e=this;this.node.parent=s.default.instance.node,this.node.setSiblingIndex(0),this.node.y=7,cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).delay(.2).to(.5,{y:-80}).call(function(){e.node.active=!1}).start()},t.prototype.pullUpEndShow=function(){var e=this;this.node.active=!0,this.updateGem(),this.updatePower(!1),cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).delay(.2).to(.5,{y:7}).call(function(){e.showGemBarFilpY(!0,!1,null)}).start()},t.prototype.resetBar=function(e){var t=this;this._curGem=0,this._curPower=12,cc.tween(this.node).to(.5,{y:-160}).call(function(){t.updateGem(),t.updatePower()}).to(.5,{y:7}).delay(.2).call(function(){e.run()}).start()},t.prototype.onAnimaEventSubGem=function(){this.playSubGemAnima()},t.prototype.onAnimaEventDeffnse=function(){this.playGemShake()},a([p(cc.Node)],t.prototype,"gemBar",void 0),a([p(cc.Sprite)],t.prototype,"powerBar",void 0),a([p(cc.Animation)],t.prototype,"waterSubAnima",void 0),a([p(cc.Animation)],t.prototype,"waterAddAnima",void 0),a([p(cc.Node)],t.prototype,"gemNode",void 0),a([p(cc.Node)],t.prototype,"gemAddNode",void 0),a([p(cc.SpriteFrame)],t.prototype,"grayGemSpframe",void 0),a([p(cc.SpriteFrame)],t.prototype,"norGemSpframe",void 0),a([p(cc.Animation)],t.prototype,"gemBreakAnima",void 0),a([p(cc.Animation)],t.prototype,"gemBreakWaveAnima",void 0),n=a([l],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../common/GameEventName111001901":"GameEventName111001901","./GameLayer111001901":"GameLayer111001901"}],JTChildManager111001901:[function(e,t,n){"use strict";cc._RF.push(t,"ee511aHGgVMAr4rOaj8NAen","JTChildManager111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../SpinSlotViewExtend111001901"),r=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.registerClassAlias=function(){return this.registerClass(slot.JTChildFactory.SCROLLER_TYPE,slot.JTScroller),this.registerClass(slot.JTChildFactory.ITEMRENDER_TYPE,a.default),this.registerClass(slot.JTChildFactory.GIRD_TYPE,slot.JTSkinnableGridRender),this.registerClass(slot.JTChildFactory.SCATTER_TYPE,slot.JTScatterGridRender),this.registerClass(slot.JTChildFactory.LINE_TYPE,slot.JTSkinnableRuntimeLineAnimationRender),this},t.prototype.changedLine=function(t,n){e.prototype.changedLine.call(this,t,n)},t}(slot.JTChildFactory);n.default=r,cc._RF.pop()},{"../SpinSlotViewExtend111001901":"SpinSlotViewExtend111001901"}],JTLayerManager111001901:[function(e,t,n){"use strict";cc._RF.push(t,"aa69cmSY1FEmpzsFRlItGKh","JTLayerManager111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../freeGame/StoneLayer111001901"),r=e("../../freeGame/WildLayer111001901"),s=e("../../game/GameLayer111001901"),c=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.initialize=function(e){this.addChildNode(slot.JTLayerFactory.EFFECT_BELOW_CONTAINER,e);var n=this.addChildNode(slot.JTLayerFactory.LAYER_SORT_SCATTER_STOP_CONTAINER,e),o=this.addChildNode(slot.JTLayerFactory.SCATTER_BLACK_BACK_GROUND,e);this.addChildNode(slot.JTLayerFactory.SKIN_LOADER_CONTAINER,e),s.default.instance.frameLayer=this.addChildNode(t.FRAME_IMAGE_CONTAINER,e),s.default.instance.frameLayer.name="frameLayer";var i=this.addChildNode(slot.JTLayerFactory.SCROLLER_MASK_CONTAINER,e);this.addChildNode(slot.JTLayerFactory.SCROLLER_CONTAINER,i);var c=this.addChildNode(slot.JTLayerFactory.LAYER_SORT_SCATTER_PLAY_CONTAINER,e),l=this.addChildNode(slot.JTLayerFactory.LAYER_SORT_STOP_RENDER,e);l.name="LAYER_SORT_STOP_RENDER";var p=this.addChildNode(slot.JTLayerFactory.SCOLLER_GROUP_BLACK_BACK_GROUND,e);p.name="backGround";var u=this.addChildNode(t.MIXWILD_CONTAINER,e);u.name="mixWildLayer",r.default.instance.node.parent=u;var d=this.addChildNode(t.STONE_CONTAINER,e);a.default.instance.node.parent=d,this.addChildNode(slot.JTLayerFactory.LINE_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.LAYER_SORT_PLAY_RENDER,e).name="LAYER_SORT_PLAY_RENDER",s.default.instance.winEffectLayer=this.addChildNode(t.WIN_EFFECT_CONTAINER,e),s.default.instance.winEffectLayer.name="winEffectLayer",s.default.instance.freeSlotMaskNode.parent=s.default.instance.winEffectLayer,this.addChildNode(slot.JTLayerFactory.LINE_NUMBER_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.EFFECT_ABOVE_CONTAINER,e),i.launch(e),p.setup(e.config.getWidth()+50,e.config.getHeight()+20,130),o.setup(e.config.getWidth(),e.config.getHeight(),0),l.setupMask(e.config.getWidth(),e.config.getHeight()),c.setupMask(e.config.getWidth(),e.config.getHeight()),n.setupMask(e.config.getWidth(),e.config.getHeight())},t.prototype.registerClassAlias=function(){return this.registerClass(slot.JTLayerFactory.EFFECT_BELOW_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCROLLER_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.LINE_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.GIRD_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCROLLER_MASK_CONTAINER,slot.JTScrollerGroupMask),this.registerClass(slot.JTLayerFactory.EFFECT_ABOVE_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCATTER_GRID_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SKIN_LOADER_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCOLLER_GROUP_BLACK_BACK_GROUND,slot.JTBlackBackGround),this.registerClass(slot.JTLayerFactory.LAYER_SORT_PLAY_RENDER,slot.JTLayerSortContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_STOP_RENDER,slot.JTLayerSortMaskContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_SCATTER_PLAY_CONTAINER,slot.JTLayerSortMaskContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_SCATTER_STOP_CONTAINER,slot.JTLayerSortMaskContainer),this.registerClass(slot.JTLayerFactory.SCATTER_BLACK_BACK_GROUND,slot.JTBlackBackGround),this.registerClass(slot.JTLayerFactory.LINE_NUMBER_CONTAINER,slot.JTGComponent),this.registerClass(t.FRAME_IMAGE_CONTAINER,slot.JTBlackBackGround),this.registerClass(t.MIXWILD_CONTAINER,slot.JTBlackBackGround),this.registerClass(t.WIN_EFFECT_CONTAINER,slot.JTBlackBackGround),this.registerClass(t.STONE_CONTAINER,slot.JTBlackBackGround),this},t.FRAME_IMAGE_CONTAINER=999,t.MIXWILD_CONTAINER=998,t.WIN_EFFECT_CONTAINER=997,t.STONE_CONTAINER=996,t}(slot.JTLayerFactory);n.default=c,cc._RF.pop()},{"../../freeGame/StoneLayer111001901":"StoneLayer111001901","../../freeGame/WildLayer111001901":"WildLayer111001901","../../game/GameLayer111001901":"GameLayer111001901"}],JTLineAttack111001901:[function(e,t,n){"use strict";cc._RF.push(t,"60efbI/6VNC5YVhzQspBnhC","JTLineAttack111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../common/GameEventName111001901"),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.addEventListenner=function(){},t.prototype.runningTask=function(){this.caculate(),this.nextStep()},t.prototype.caculate=function(){this.addStepTask(a.EventName.JT_LINE_ATTACK)},t}(slot.JTPerformanceTask);n.default=r,cc._RF.pop()},{"../../common/GameEventName111001901":"GameEventName111001901"}],JTLogicFactroy111001901:[function(e,t,n){"use strict";cc._RF.push(t,"0b1bej8mE9NSq2GpFEH5Hkg","JTLogicFactroy111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./JTLineAttack111001901"),r=e("./JTMedusaEnter111001901"),s=e("./JTMedusaStone111001901"),c=e("./JTMedusaWild111001901"),l=e("./JTPXSBeginSpin111001901"),p=e("./JTPXSWild111001901"),u=e("./JTRockRoller111001901"),d=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.adjustFlowOptions=function(){this.childOption(u.default,slot.JTTaskPriority.JTCONVERT_PLAYLINES-1),this.childOption(r.default,slot.JTTaskPriority.JTGLOBAL_DISPLAY_LINES+1),this.childOption(s.default,slot.JTTaskPriority.JTGLOBAL_DISPLAY_LINES-1),this.childOption(c.default,slot.JTTaskPriority.JTCONVERT_PLAYLINES-2),this.childOption(p.default,slot.JTTaskPriority.JTCONVERT_PLAYLINES-3),this.childOption(a.default,slot.JTTaskPriority.JTGLOBAL_DISPLAY_LINES+2),this.childOption(l.default,slot.JTTaskPriority.JTNEW_FREEGAME_TASK+1)},t}(slot.JTLogicFactroy);n.default=d,cc._RF.pop()},{"./JTLineAttack111001901":"JTLineAttack111001901","./JTMedusaEnter111001901":"JTMedusaEnter111001901","./JTMedusaStone111001901":"JTMedusaStone111001901","./JTMedusaWild111001901":"JTMedusaWild111001901","./JTPXSBeginSpin111001901":"JTPXSBeginSpin111001901","./JTPXSWild111001901":"JTPXSWild111001901","./JTRockRoller111001901":"JTRockRoller111001901"}],JTMedusaEnter111001901:[function(e,t,n){"use strict";cc._RF.push(t,"ea715iNqzdEi5c/3k3Dv6Ln","JTMedusaEnter111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../common/GameEventName111001901"),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.addEventListenner=function(){},t.prototype.runningTask=function(){this.caculate(),this.nextStep()},t.prototype.caculate=function(){this.addStepTask(a.EventName.JT_MEDUSA_ENTER)},t}(slot.JTPerformanceTask);n.default=r,cc._RF.pop()},{"../../common/GameEventName111001901":"GameEventName111001901"}],JTMedusaStone111001901:[function(e,t,n){"use strict";cc._RF.push(t,"384f2ph+OhGjJ8m1h/f+lkp","JTMedusaStone111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../common/GameEventName111001901"),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.addEventListenner=function(){},t.prototype.runningTask=function(){this.caculate(),this.nextStep()},t.prototype.caculate=function(){this.addStepTask(a.EventName.JT_MEDUSA_STONE)},t}(slot.JTPerformanceTask);n.default=r,cc._RF.pop()},{"../../common/GameEventName111001901":"GameEventName111001901"}],JTMedusaWild111001901:[function(e,t,n){"use strict";cc._RF.push(t,"881b2YVKLZP+IIaT04q39gw","JTMedusaWild111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../common/GameEventName111001901"),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.addEventListenner=function(){},t.prototype.runningTask=function(){this.caculate(),this.nextStep()},t.prototype.caculate=function(){this.addStepTask(a.EventName.JT_MEDUSA_WILD)},t}(slot.JTPerformanceTask);n.default=r,cc._RF.pop()},{"../../common/GameEventName111001901":"GameEventName111001901"}],JTPXSBeginSpin111001901:[function(e,t,n){"use strict";cc._RF.push(t,"7b5cd3NKQpKloU6Me244j3a","JTPXSBeginSpin111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../common/GameEventName111001901"),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.addEventListenner=function(){},t.prototype.runningTask=function(){this.caculate(),this.nextStep()},t.prototype.caculate=function(){this.addStepTask(a.EventName.JT_PAX_BEGIN_SPIN)},t}(slot.JTPerformanceTask);n.default=r,cc._RF.pop()},{"../../common/GameEventName111001901":"GameEventName111001901"}],JTPXSWild111001901:[function(e,t,n){"use strict";cc._RF.push(t,"d892ecLo9FLFaRUq0r4Zmt0","JTPXSWild111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../common/GameEventName111001901"),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.addEventListenner=function(){},t.prototype.runningTask=function(){this.caculate(),this.nextStep()},t.prototype.caculate=function(){this.addStepTask(a.EventName.JT_PAX_WILD)},t}(slot.JTPerformanceTask);n.default=r,cc._RF.pop()},{"../../common/GameEventName111001901":"GameEventName111001901"}],JTRockRoller111001901:[function(e,t,n){"use strict";cc._RF.push(t,"1e01c1823RMIb+xrsyGNgcH","JTRockRoller111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../common/GameEventName111001901"),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.addEventListenner=function(){},t.prototype.runningTask=function(){this.caculate(),this.nextStep()},t.prototype.caculate=function(){this.addStepTask(a.EventName.JT_ROCK_ROLLER)},t}(slot.JTPerformanceTask);n.default=r,cc._RF.pop()},{"../../common/GameEventName111001901":"GameEventName111001901"}],JTScattask11105701:[function(e,t,n){"use strict";cc._RF.push(t,"cc72bMvBcFB/YW+e61lsuuD","JTScattask11105701");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ignoreIdx=[[0,1,2,7,8,9],[0,1,2,7,8,9],[0,1,2,7,8,9],[0,1,2,7,8,9],[0,1,2,7,8,9]],t}return i(t,e),t.prototype.getIgnoreIndexs=function(e){return this.ignoreIdx[e]},t}(slot.JTScatterTask);n.default=a,cc._RF.pop()},{}],LanguageCore111001901:[function(e,t,n){"use strict";cc._RF.push(t,"1ca8c4lZSVN+JQdJGGy49f+","LanguageCore111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),a([s],t)}(slot.LanguangeCompSlot));n.default=c,cc._RF.pop()},{}],LanguageInfo111001901:[function(e,t,n){"use strict";cc._RF.push(t,"a7534kriytEJZ/5P6CpM60F","LanguageInfo111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastSprite="",t._spriteName="",t}return i(t,e),t.prototype.onLoad=function(){this.lastSprite=this.spriteFrame,e.prototype.onLoad.call(this)},Object.defineProperty(t.prototype,"spriteName",{get:function(){return this._spriteName},set:function(e){this._spriteName=e,this.spriteFrame=e,this.updateInfo()},enumerable:!1,configurable:!0}),t.prototype.updateInfo=function(){this.lastSprite!=this.spriteFrame&&this.onLoad()},a([s],t)}(slot.LanguageInfoBase));n.default=c,cc._RF.pop()},{}],Main111001901:[function(e,t,n){"use strict";cc._RF.push(t,"57d00zdnbpIl73C/PZZzTrK","Main111001901");var o,i,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.UICF=n.UIID=void 0;var s,c=e("../roller/WinAnimation111001901"),l=cc._decorator,p=l.ccclass,u=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),game.BaseUIConf.getInstance().mergeUIConf(n.UICF);var t=game.BaseUIConf.getInstance().getUICF();game.UIManager.getInstance().initUIConf(t)},t.prototype.getWinAniManagerClass=function(){return c.default},r([p],t)}(slot.MainView));n.default=u,function(e){e[e.BONUS_GAME_POPUP=1e4]="BONUS_GAME_POPUP",e[e.BONUS_GAME_START=90]="BONUS_GAME_START",e[e.FREE_AGAIN=100]="FREE_AGAIN",e[e.BONUS_GAME_RESULT=101]="BONUS_GAME_RESULT"}(s=n.UIID||(n.UIID={})),n.UICF=((i={})[s.BONUS_GAME_POPUP]={bundleName:"game_111001901",path:"prefabs/game/potPrefab",preventKeyboard:!0,preventTouch:!1,quickClose:!1,cache:!0,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,zOrder:slot.LayerManage.tip},i[s.BONUS_GAME_START]={bundleName:"game_111001901",path:"prefabs/freeGame/freeGameStart",preventKeyboard:!0,preventTouch:!1,quickClose:!1,cache:!0,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,zOrder:slot.LayerManage.tip},i[s.FREE_AGAIN]={bundleName:"game_111001901",path:"prefabs/freeGame/koLoading",preventKeyboard:!0,preventTouch:!0,quickClose:!1,cache:!0,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,zOrder:slot.LayerManage.tip},i[s.BONUS_GAME_RESULT]={bundleName:"game_111001901",path:"prefabs/freeGame/freeGameResult",preventKeyboard:!0,preventTouch:!1,quickClose:!1,cache:!0,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,zOrder:slot.LayerManage.tip},i),slot.JTScroller.prototype.adjustSkinRenders=function(){for(var e=0;e<this._items.length;e++){var t=this._items[e];-1==this._renders.indexOf(t)&&(t.active=!0)}},slot.GameControlBase.prototype.start=function(){this.rotateEffect2.parent=this.rotate,this.houverEffect2.parent=this.rotate;var e=new cc.Node,t=e.addComponent(cc.Sprite);t.dstBlendFactor=cc.macro.BlendFactor.ONE,t.srcBlendFactor=cc.macro.BlendFactor.DST_COLOR,game.ResLoader.getInstance().loadRes("textures/ui/gameControl/Spin_Button",cc.SpriteAtlas,null,function(e,n){t.spriteFrame=n.getSpriteFrame("spin_bg")},slot.GData.bundleName),e.parent=this.houverEffect,e.scale=.6,this.houverEffect.active=!1},slot.SpinManager.prototype._onSlotMachineStopped=function(){slot.FreeGameManager.instance.freeGameInfo&&slot.FreeGameManager.instance.freeGameInfo.sumCoin,slot.BonusGameManager.instance.bonusGameInfo&&slot.BonusGameManager.instance.bonusGameInfo.sumWinCoin,slot.PlayerManager.instance.syncShowingCoin(),this.isSlotMachineStopped=!0,slot.FreeGameManager.instance.hasFreeGame&&this._nowGameType!==slot.GameType.FreeGame&&this._nowGameType!==slot.GameType.BonusGame&&this.storeAutoGameTimes(),this.switchTipsWhenSlotMachineStop(),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_CUSTOM_DATA_RECEIVED),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_MENBTS_SETSTATE,{state:!0,num:1})},slot.JTLoopDisplayLines.prototype.loopWinLine=function(){if(null==this._scroller||null==this._scroller.parent)return console.log("\u6d41\u7a0b\uff1aJTLoopDisplayLines\u5b8c\u6210"),void this.clear();this.lineParser.showLines(0);var e=this.lineParser;if(e.lineComplete&&(e.lineComplete.apply(this.caller,[this]),e.lineComplete=null,e.ifStopWhenComplete))return this.clear(),console.log("\u6d41\u7a0b\uff1aJTLoopDisplayLines\u5b8c\u6210"),void this.complete();var t=this._scroller.getRuleTask(slot.JTRuleTaskType.DYNAMIC_COMBINE),n=!0;t&&t.isEnabled&&(n=!1);var o=this._scroller.getRuleTask(slot.JTRuleTaskType.COMBINE);o&&o.checkCanPlayLine()&&(n=!1);var i=!0;if(this.linePosition>=this.lineList.length&&(this.linePosition=0,e.isLoopGlobalLines)){this._scroller.enableds();for(var a=0;a<this.lineList.length;a++){var r=this.lineList[a],s=r.line;this.lineParser.playItemRenders(r,n),this.lineParser.showLine(s.lineId,!0)}return this._scroller.updateLayer(),void((i=0!=slot.SlotMachineView._instance.onShowMoreWinLineCb(this.lineList,!0))&&slot.SoundMger.instance.playEffect(slot.SOUND_NAME.Line_Switch))}i=0!=slot.SlotMachineView._instance.onShowMoreWinLineCb(this.lineList,!1),this._scroller.showImageInterval>0&&(this._scroller.showImageInterval,this._scroller.interval);var c=this.lineList[this.linePosition],l=c.line;this._scroller.enableds();var p=e.showMaskWithGridLine(l,n);if(i&&slot.SoundMger.instance.playEffect(slot.SOUND_NAME.Line_Switch),l.lineType===slot.JTLineType.LINE&&l.lineType==slot.JTLineMode.MODE_NORMAL){var u=slot.JTDefaultItemRender.playIndex,d=[].concat(p.renders);l.direction==slot.JTLineDirection.DIRECTION_RIGHT&&(d=d.reverse()),(f=d[u]).playRewardsAnimation(l,u,f.index,slot.SlotMachineView.instance)}else{var h=c.renders;if(h.length>0){var f,m=Math.floor(.5*(h.length-1));if(-1!=slot.JTDefaultItemRender.fullTypeIndex)for(a=0;a<h.length;a++){var y=h[a];if(y&&y.index>=0){var _=this.owner&&this.owner.owner;if(_){var g=_.config.row;if(Math.floor(y.index/g)==slot.JTDefaultItemRender.fullTypeIndex){m=a;break}}}}(f=h[m]).playRewardsAnimation(l,0,f.index,slot.SlotMachineView.instance)}}this.linePosition+=1,this.lineParser.isTreatFullLine(l)&&game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_TREAT_FULL_LINE_IN_LOOP)},slot.JTPGGlobalDisplayLines.prototype.runningTask=function(){this.lineParser=this.getLineParser();var e=this.lineParser.owner,t=this.lineParser.playLineMap;if(!t||!t.values)return console.log("\u6d41\u7a0b JTGlobalDisplayLines\u5b8c\u62101"),void this.complete();var n=this.lineParser.playLineMap.values;if(n.length<=0)return console.log("\u6d41\u7a0b JTGlobalDisplayLines\u5b8c\u62102"),void this.complete();var o,i=!0,a=e.getRuleTask(slot.JTRuleTaskType.COMBINE),r=e.getRuleTask(slot.JTRuleTaskType.DYNAMIC_COMBINE);r&&r.isEnabled&&(i=!1),a&&a.checkCanPlayLine()&&(i=!1);for(var s=0;s<n.length;s++){var c=n[s],l=c.line;this.lineParser.playItemRenders(c,i),this.lineParser.showLine(l.lineId,!0)}o=0!=slot.SlotMachineView._instance.onShowMoreWinLineCb(n,!0),n.length>1&&o&&slot.SoundMger.instance.playEffect(slot.SOUND_NAME.Coin_Add),e.updateLayer();var p=slot.SlotUtils.getWinType(slot.SpinManager.instance.totalWin,slot.SpinManager.instance.betCost),u=e.interval,d=0;this.runningExtendPerfomance&&(d=1e3*this.runningExtendPerfomance()),d>u&&(u=d);var h=0;if(this.getDelayPlayRewardTime&&(h=1e3*this.getDelayPlayRewardTime()),p==slot.WinType.Normal)if(u=u-h>0?u-h:200,h>0){var f=slot.Handler.create(this,this.intervalComplete,[u]);setTimeout(function(){game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_PLAY_REWARD_ANI,slot.SpinManager.instance.totalWin,p,f)},h)}else{u>1e3&&(u-=1e3);var m=slot.Handler.create(this,this.intervalComplete,[u]);game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_PLAY_REWARD_ANI,slot.SpinManager.instance.totalWin,p,m)}else h>u&&(u=h),this.intervalComplete(u);game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_PLAYED_NORMAL_REWARD)},slot.JTBonusGameTask.prototype.addBonusGameOver=function(e,t){var n=t.sumWinCoin;this.addStepTask(slot.GameEventNames.EVENT_BONUS_GAME_FINISEH,t),slot.SlotUtils.getWinType(n,slot.SpinManager.instance.betCost)!=slot.WinType.None&&(slot.FreeGameManager.instance.isTreateFromFreeGame?this.addStepTask(slot.GameEventNames.EVENT_UPDATE_WINSCORE,n,!0,!0,!1):this.addStepTask(slot.GameEventNames.EVENT_UPDATE_WINSCORE,n,!1,!1,!1)),this.pending=!1,this.nextStep()},cc._RF.pop()},{"../roller/WinAnimation111001901":"WinAnimation111001901"}],MedusaAnima111001901:[function(e,t,n){"use strict";cc._RF.push(t,"7c849nu+bFGzb/pZlaDGx75","MedusaAnima111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../common/GameEventName111001901"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.start=function(){},t.prototype.onEvent=function(e){"motion"==e?game.EventManager.getInstance().raiseEvent(r.EventName.ANIMA_EVENT_MOTION):"being"==e?game.EventManager.getInstance().raiseEvent(r.EventName.ANIMA_EVENT_BEING):"defense"==e?(game.EventManager.getInstance().raiseEvent(r.EventName.ANIMA_EVENT_DEFENSE),slot.SoundMger.instance.playEffect("Sonic_Wave_Destroy_Stone",!1)):"subGem"==e&&(game.EventManager.getInstance().raiseEvent(r.EventName.ANIMA_EVENT_SUBGEM),slot.SoundMger.instance.playEffect("Sonic_Wave_Destroy_Stone",!1))},t.prototype.onMedusaTurn=function(){var e=game.ComUtils.getIntRandom(1,3);slot.SoundMger.instance.playEffect("Medusa_TurnAround"+e,!1)},a([c],t)}(cc.Component));n.default=l,cc._RF.pop()},{"../common/GameEventName111001901":"GameEventName111001901"}],MultiPSRandomRefresh:[function(e,t,n){"use strict";cc._RF.push(t,"761c4IUgzdGT6+Ui8T870E4","MultiPSRandomRefresh");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=r.menu,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.atlas=null,t.aniFps=15,t.psNodeNum=5,t.emissionRate=10,t.psIndexArray=[],t.psArray=[],t.count=0,t.spriteArray=[],t}return i(t,e),t.prototype.onLoad=function(){if(this.atlas){this.psArray=this.node.getComponentsInChildren(cc.ParticleSystem),this.spriteArray=this.atlas.getSpriteFrames(),this.count=this.spriteArray.length;var e=Math.round(Math.random()*this.count);for(this.psIndexArray.push(e);this.psArray.length<this.psNodeNum;){var t=cc.instantiate(this.psArray[0].node);t.parent=this.psArray[0].node.parent;var n=Math.round(Math.random()*this.count);this.psIndexArray.push(n),this.psArray.push(t.getComponent(cc.ParticleSystem))}}},t.prototype.onResetSystem=function(){this.psArray.forEach(function(e){e.resetSystem()})},t.prototype.onStopSystem=function(){this.psArray.forEach(function(e){e.stopSystem()})},t.prototype.onEnable=function(){this.schedule(this.refreshSprite,1/this.aniFps,cc.macro.REPEAT_FOREVER)},t.prototype.onDisable=function(){this.unschedule(this.refreshSprite)},t.prototype.refreshSprite=function(){for(var e=0;e<this.psArray.length;e++){var t=this.psArray[e];this.psIndexArray[e]>=this.count&&(this.psIndexArray[e]=0),t.spriteFrame=this.spriteArray[this.psIndexArray[e]],t.emissionRate=this.emissionRate,t.autoRemoveOnFinish=!1,this.psIndexArray[e]++}},a([c({type:cc.SpriteAtlas,tooltip:"\u56fe\u96c6\u8d44\u6e90"})],t.prototype,"atlas",void 0),a([c({type:cc.Integer,tooltip:"\u6bcf\u79d2\u66ff\u6362\u7c92\u5b50\u8d34\u56fe\u591a\u5c11\u6b21"})],t.prototype,"aniFps",void 0),a([c({tooltip:"ParticleSystem\u8282\u70b9\u603b\u6570\u91cf"})],t.prototype,"psNodeNum",void 0),a([c({tooltip:"\u5355\u7c92\u5b50\u8282\u70b9\u6bcf\u79d2\u53d1\u5c04\u7c92\u5b50\u6570\u76ee"})],t.prototype,"emissionRate",void 0),a([s,l("game/\u7c92\u5b50\u64ad\u653e\u56fe\u96c6\u52a8\u753b")],t)}(cc.Component);n.default=p,cc._RF.pop()},{}],NormalBg111001901:[function(e,t,n){"use strict";cc._RF.push(t,"e508e/HCF1K27+tLPa/5Ido","NormalBg111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../common/GameEventName111001901"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgFrontSp=null,t.lightSp=null,t.bgBackSp=null,t.dustSp=null,t.batSp=null,t.perseusSp=null,t.medusaAnima=null,t.medusaRetreatAnima=null,t.lizi=null,t.liziSpriteFrame=[],t}var n;return i(t,e),n=t,t.prototype.onLoad=function(){var e=this;n.instance=this,window.normalBg=this,this.medusaAnima.on(cc.Animation.EventType.FINISHED,function(t,n){"idle"==n.name||("exit"===n.name?e.medusaAnima.node.active=!1:e.playMedusa("idle"))}),this.medusaRetreatAnima.on(cc.Animation.EventType.FINISHED,function(){e.medusaRetreatAnima.node.active=!1}),this.schedule(this.playLight,10),this.schedule(this.playDust,7),this.schedule(this.playLizi,3)},t.prototype.onDisable=function(){game.EventManager.getInstance().removeEventListener(r.EventName.GAME_SPIN_START,this.onSpinStart,this),game.EventManager.getInstance().removeEventListener(r.EventName.GAME_SPIN_STOP,this.onSpinStop,this),game.EventManager.getInstance().removeEventListener(r.EventName.ANIMA_EVENT_DEFENSE,this.onMedusaMotionDefense,this),game.EventManager.getInstance().removeEventListener(r.EventName.MEDUSA_SKILL,this.onMedusaSKill,this)},t.prototype.onEnable=function(){game.EventManager.getInstance().addEventListener(r.EventName.GAME_SPIN_START,this.onSpinStart,this),game.EventManager.getInstance().addEventListener(r.EventName.GAME_SPIN_STOP,this.onSpinStop,this),game.EventManager.getInstance().addEventListener(r.EventName.ANIMA_EVENT_DEFENSE,this.onMedusaMotionDefense,this),game.EventManager.getInstance().addEventListener(r.EventName.MEDUSA_SKILL,this.onMedusaSKill,this),this.bgFrontSp.paused=!0,this.medusaAnima.node.active=!1},t.prototype.playDust=function(){var e=game.ComUtils.getIntRandom(0,666);this.dustSp.node.x=e,this.dustSp.setAnimation(0,"b",!1),slot.SoundMger.instance.playEffect("Sand_Falling",!1)},t.prototype.playLizi=function(){var e=cc.instantiate(this.lizi.node);e.parent=this.lizi.node.parent,e.name="liziG";var t=game.ComUtils.getIntRandom(0,2);e.getComponent(cc.ParticleSystem).spriteFrame=this.liziSpriteFrame[t],cc.tween(e).delay(13).removeSelf().start()},t.prototype.playBats=function(){slot.SoundMger.instance.playEffect("Crow_Sound",!1),this.batSp.setAnimation(0,"bats_fly",!1)},t.prototype.playLight=function(){this.lightSp.setAnimation(0,"bg_light",!1);var e=game.ComUtils.getIntRandom(1,2);slot.SoundMger.instance.playEffect("Thunder_Sound"+e,!1)},t.prototype.playMedusaRetreat=function(){this.medusaRetreatAnima.node.active||game.ComUtils.getIntRandom(0,10)>8&&(this.medusaRetreatAnima.node.active=!0,this.medusaRetreatAnima.play("medusa_retreat1"),slot.SoundMger.instance.playEffect("Medusa_Looming_Appear",!1),this.scheduleOnce(function(){slot.SoundMger.instance.playEffect("Medusa_Looming_Escape",!1)},1))},t.prototype.stopBgShake=function(){cc.Tween.stopAllByTag(998),this.node.y=0,this.node.x=0},t.prototype.playPerseusWalk=function(){slot.SoundMger.instance.playEffect("Perseus_Footstep_Sound",!0),this.perseusSp.setAnimation(0,"perseus_walk",!0)},t.prototype.playBgShake=function(){cc.Tween.stopAllByTag(998),cc.tween(this.node).repeatForever(cc.tween(this.node).to(.2,{y:-3}).to(.2,{y:0}).delay(.2).set({y:0})).tag(998).start()},t.prototype.randCamera=function(){return game.ComUtils.getIntRandom(0,10)<2&&(this.doMoveScene(),!0)},t.prototype.doMoveScene=function(){var e=game.ComUtils.getIntRandom(0,10),t=0,n=0;e<2?t=-100:e<5||(e<8?n=100:(n=-100,this.playBats())),cc.tween(this.node).to(.5,{x:t,y:n}).delay(1).to(.3,{x:0,y:0}).tag(998).start()},t.prototype.playMedusa=function(e){switch(void 0===e&&(e=null),this.medusaAnima.node.active=!0,e&&this.medusaAnima.play(e),e){case"enter":slot.SoundMger.instance.playEffect("Medusa_Battle_Appear",!1),slot.SoundMger.instance.playMusic("Medusa_Battle_Bgm",!0);break;case"attack":break;case"exit":slot.SoundMger.instance.playEffect("Medusa_Battle_End",!1),slot.SoundMger.instance.stopMusic("Medusa_Battle_Bgm"),slot.SoundMger.instance.playMusic("Game_Back_Music",!0),slot.SoundMger.instance.playEffect("Medusa_Escape",!1);break;case"being_attack":slot.SoundMger.instance.playEffect("Medusa_Hurt",!1)}},t.prototype.onMedusaMotionDefense=function(){this.perseusSp.setAnimation(0,"perseus_defense",!1),this.perseusSp.addAnimation(0,"perseus_idle",!0)},t.prototype.onSpinStart=function(){this.bgFrontSp.paused=!1,this.playPerseusWalk(),this.randCamera()||this.playBgShake()},t.prototype.onSpinStop=function(){slot.SoundMger.instance.stopEffect("Perseus_Footstep_Sound"),this.perseusSp.setAnimation(0,"perseus_idle",!0),this.bgFrontSp.paused=!0,this.stopBgShake()},t.prototype.onMedusaSKill=function(e,t){var n=this;cc.Tween.stopAllByTag(999),t<0?this.playMedusa("motion_hit"):0==t?this.playMedusa("motion_defense"):this.playMedusa("being_attack"),cc.tween(this.node).delay(3).call(function(){n.playMedusa("exit")}).tag(999).start()},t.instance=null,a([l(sp.Skeleton)],t.prototype,"bgFrontSp",void 0),a([l(sp.Skeleton)],t.prototype,"lightSp",void 0),a([l(sp.Skeleton)],t.prototype,"bgBackSp",void 0),a([l(sp.Skeleton)],t.prototype,"dustSp",void 0),a([l(sp.Skeleton)],t.prototype,"batSp",void 0),a([l(sp.Skeleton)],t.prototype,"perseusSp",void 0),a([l(cc.Animation)],t.prototype,"medusaAnima",void 0),a([l(cc.Animation)],t.prototype,"medusaRetreatAnima",void 0),a([l(cc.ParticleSystem)],t.prototype,"lizi",void 0),a([l(cc.SpriteFrame)],t.prototype,"liziSpriteFrame",void 0),n=a([c],t)}(slot.BaseView);n.default=p,cc._RF.pop()},{"../common/GameEventName111001901":"GameEventName111001901"}],NumAtlasLabel111001901:[function(e,t,n){"use strict";cc._RF.push(t,"0452atpXL1HG41C7ZUyJq7w","NumAtlasLabel111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.numTween=null,t._curNum=0,t}return i(t,e),t.prototype.setNumber=function(){},Object.defineProperty(t.prototype,"curNum",{get:function(){return this._curNum},set:function(e){this._curNum=e,this.string=slot.SlotUtils.formatNumber(e)},enumerable:!1,configurable:!0}),t.prototype.runToNumber=function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=null),this.numTween&&this.numTween.stop(),this.numTween=cc.tween(this).to(t,{curNum:e}).delay(.2).call(function(){n&&n()}).start()},t.prototype.stopNumberTween=function(){this.numTween&&this.numTween.stop(),this.numTween=null},t.prototype.runJumpToNumber=function(e){this.string=e.toString(),cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).set({scale:.8}).to(.1,{scale:1.2}).to(.1,{scale:1}).start()},a([s],t)}(slot.CommonNumAtlasBase));n.default=c,cc._RF.pop()},{}],PotGame111001901:[function(e,t,n){"use strict";cc._RF.push(t,"63eccKrbd5LQqGJX8xa06Hi","PotGame111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../common/NumAtlasLabel111001901"),s=e("../game/GemCtrl111001901"),c=e("../main/Main111001901"),l=cc._decorator,p=l.ccclass,u=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.autoSprite=null,t.cutSp=null,t.potAppearingSp=null,t.potNode=[],t.potSp=[],t.potFrontSp=[],t.potParentNode=null,t.rewardGemNode=null,t.rewardPowerNode=null,t.rewardRespinSprite=null,t.rewardCoinLabel=null,t.autoBtnHoverEffect=null,t.lightNode=null,t.liziNode=null,t._points=[],t._potPoints=[],t.potCutSps=[],t.isOpening=!1,t._autoSelect_off=null,t._autoSelect_on=null,t._index=0,t._reward=0,t.showList=[],t}return i(t,e),t.prototype.onLoad=function(){var e=this,t="textures/chat/mds/"+slot.GData.curLanguage+"/pot";game.ResLoader.getInstance().loadRes(t,cc.SpriteAtlas,null,function(t,n){t||(e._autoSelect_off=n.getSpriteFrame("autoselect_off"),e._autoSelect_on=n.getSpriteFrame("autoselect_on"),e.rewardRespinSprite.spriteFrame=n.getSpriteFrame("respin"),e.autoSprite.spriteFrame=e._autoSelect_off)},slot.GData.bundleName);for(var n=1;n<=6;n++){var o=this.node.getChildByName("point"+n);this._points[n]=o.position,o.active=!1}this.autoSprite.node.on(cc.Node.EventType.MOUSE_ENTER,this.onMouseEnter,this),this.autoSprite.node.on(cc.Node.EventType.MOUSE_LEAVE,this.onMouseLeave,this),this.potNode.forEach(function(t,n){e.potCutSps[n]=t.getChildByName("cut_glow").getComponent(sp.Skeleton)}),this.cutSp.setCompleteListener(function(){e.cutSp.node.active=!1}),this.potAppearingSp.setCompleteListener(function(e){e.animation.name})},t.prototype.playAnimation=function(){for(var e=0;e<3;e++)this.potNode[e].position=this._points[this._potPoints[e]],this.potNode[e].active=!0,this.potSp[e].setAnimation(0,"vase-0"+(e+1)+"_loop",!0),this.potFrontSp[e].node.active=!0,this.potFrontSp[e].setAnimation(0,"vase-0"+(e+1)+"_loop_fx_front",!0)},t.prototype.doPlayLoopPot=function(){this.stopPotTween(),this._potPoints=[6,2,4],this.playLoopPotRoad(1)},t.prototype.doPlayFadeinPot=function(){this._potPoints=[4,6,2];for(var e=0;e<3;e++)this.potNode[e].position=this._points[this._potPoints[e]],this.potNode[e].active=!0,this.potSp[e].setAnimation(0,"vase-0"+(e+1)+"_loop",!0),this.potFrontSp[e].setAnimation(0,"vase-0"+(e+1)+"_loop_fx_front",!0);this.stopPotTween(),this.playLoopPotRoad(.3),this.potParentNode.y=100,this.potParentNode.scale=.9,cc.tween(this.potParentNode).to(2,{scale:1,y:0}).start()},t.prototype.playLoopPotRoad=function(e){for(var t=this,n=0,o=0;o<3;o++){0==o&&6==this._potPoints[o]&&this.playAnimation();var i=this._potPoints[o]+1,a=(i=i>6?1:i)%2==0?.8:3,r=0,s=1.1;e<1&&(a=2),a*=e,4==i&&(s=.9),5==i&&(s=.88),2!=i&&3!=i||(s=1),1==i&&(r=-10,r=-5),2==i&&(r=-8,r=-5),6==i&&(r=-5,s=1.2),cc.tween(this.potNode[o]).to(a,{position:this._points[i],angle:r,scale:s}).call(function(){++n>=3&&t.playLoopPotRoad(e)}).start(),this._potPoints[o]=i}},t.prototype.stopPotTween=function(){cc.Tween.stopAllByTarget(this.potNode[0]),cc.Tween.stopAllByTarget(this.potNode[1]),cc.Tween.stopAllByTarget(this.potNode[2])},t.prototype.openPot=function(e){var t=this;slot.SoundMger.instance.stopMusic("Pot_Back_Music");var n=this;n.isOpening=!0,this._autoSelect_off&&(n.autoSprite.spriteFrame=this._autoSelect_off),n.hideAutoBtn(),n.stopPotTween(),n.potSp.forEach(function(o,i){n.potNode[i].angle=0,o.node.angle=-10,n.potFrontSp[i].node.active=!1,i==e?(o.setAnimation(0,"vase_shake",!1),slot.SoundMger.instance.playEffect("Pot_Broken",!1),t.scheduleOnce(function(){o.setAnimation(0,"vase_break",!1),t.potCutSps[i].node.active=!0,t.potCutSps[i].node.scale=1.5,t.potCutSps[i].setAnimation(0,"cut_glow",!1)},.5)):(o.setAnimation(0,"vase-idle",!1),t.potCutSps[i].node.active=!0,t.potCutSps[i].node.scale=1,t.potCutSps[i].setAnimation(0,"Black_smoke",!1))}),slot.SoundMger.instance.playEffect("Pot_Item_Fade_Away",!1)},t.prototype.showRaward=function(){var e=this;this.showList.forEach(function(t){if(t.index==e._index){var n=t.reward[0].rewardType,o=t.reward[0].number;0==n?(e.rewardCoinLabel.node.active=!0,e.rewardCoinLabel.node.position=e.potNode[e._reward].position,e.rewardCoinLabel.string=slot.SlotUtils.formatNumber(Number(o)),e.playCoinLabelToInfo()):20==n?(e.rewardRespinSprite.node.active=!0,e.rewardRespinSprite.node.position=e.potNode[e._reward].position,e.playReSpin()):179==n?(e.rewardGemNode.active=!0,e.rewardGemNode.opacity=255,e.rewardGemNode.position=e.potNode[e._reward].position,e.playGemToNotch()):180==n&&(e.rewardPowerNode.active=!0,e.rewardPowerNode.opacity=255,e.rewardPowerNode.position=e.potNode[e._reward].position,slot.SoundMger.instance.playEffect("Blue_Potion_Picked",!1),e.playPowerToNotch())}})},t.prototype.showOtherRaward=function(){var e=this,t=[];this.showList.forEach(function(n){n.index!=e._index&&t.push(n)});for(var n=0;n<3;n++)if(n!=this._reward){var o=t[n],i=o.reward[0].rewardType,a=o.reward[0].number;0==i?(this.rewardCoinLabel.node.active=!0,this.rewardCoinLabel.node.position=this.potNode[n].position,this.rewardCoinLabel.string=slot.SlotUtils.formatNumber(Number(a))):20==i?(this.rewardRespinSprite.node.active=!0,this.rewardRespinSprite.node.position=this.potNode[n].position):179==i?(this.rewardGemNode.active=!0,this.rewardGemNode.opacity=255,this.rewardGemNode.position=this.potNode[n].position):180==i&&(this.rewardPowerNode.active=!0,this.rewardPowerNode.opacity=255,this.rewardPowerNode.position=this.potNode[n].position)}},t.prototype.onClickPot=function(e,t){this.isOpening||(slot.SoundMger.instance.playEffect("Pot_Select_Press",!1),this.operate([Number(t)]))},t.prototype.operate=function(t){if(!this.isOpening)return this.isOpening=!0,e.prototype.operate.call(this,t),!0},t.prototype.onMouseEnter=function(){if(!this.isOpening){this.autoBtnHoverEffect.active=!0;var e=this.autoBtnHoverEffect.getChildByName("hover_effect");e.scale=1,e.opacity=255,cc.Tween.stopAllByTarget(e),cc.tween(e).repeatForever(cc.tween(this.autoBtnHoverEffect).to(1,{scale:2,opacity:0}).set({scale:1,opacity:255})).start()}},t.prototype.onMouseLeave=function(){this.autoBtnHoverEffect.active=!1},t.prototype.onClickAuto=function(){this.isOpening||this.autoSelect()},t.prototype.autoSelect=function(){var e=game.ComUtils.getIntRandom(0,2);this.operate([e]),slot.SoundMger.instance.playEffect("Pot_Auto_Select_Press",!1)},t.prototype.showAutoBtn=function(){var e=this;this.autoSprite.node.y=-700,this.autoSprite.node.active=!0,cc.tween(this.autoSprite.node).set({y:-690}).to(.5,{y:-500}).call(function(){e.showLight(),e.autoSprite.spriteFrame=e._autoSelect_on,e.isOpening=!1,slot.SpinManager.instance.isInAuto,slot.GameControlBase.instance.ctlBtnState==slot.ctlBtn_status.AUTO&&e.autoSelect()}).start()},t.prototype.hideAutoBtn=function(){var e=this;this.lightNode.active=!1,this.autoSprite.spriteFrame=this._autoSelect_off,cc.tween(this.autoSprite.node).to(.5,{y:-700}).call(function(){e.autoSprite.node.active=!1}).start()},t.prototype.showLight=function(){this.lightNode.active=!0,cc.tween(this.lightNode).set({opacity:20}).to(.2,{opacity:190}).to(.2,{opacity:120}).start()},t.prototype.onOpen=function(e){for(var t=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];this.cutSp.node.active=!0,this.cutSp.setAnimation(0,"open",!1),this.potAppearingSp.node.active=!1,this.stopPotTween(),this.isOpening=!0,this.rewardCoinLabel.node.active=!1,this.rewardGemNode.active=!1,this.rewardPowerNode.active=!1,this.rewardRespinSprite.node.active=!1,this.autoSprite.node.active=!1,this.lightNode.active=!1,this.liziNode.active=!1;var i=this.rewardGemNode.getChildByName("shine");i.active=!1,(i=this.rewardPowerNode.getChildByName("shine")).active=!1,game.EventManager.getInstance().addEventListener(slot.NetSlotConst.LGACTIONRESP,this.onLgActionResp,this),slot.SoundMger.instance.playEffect("Perseus_Appear",!1),slot.SoundMger.instance.playMusic("Pot_Back_Music",!0),this.potNode.forEach(function(e){e.scale=1,e.angle=-15,e.active=!1}),this.potCutSps.forEach(function(e){e.node.active=!1}),this.scheduleOnce(function(){t.potAppearingSp.node.active=!0,t.potAppearingSp.setAnimation(0,"vase-main_spawn",!1),t.potAppearingSp.addAnimation(0,"vase-main_loop_fx",!0),slot.SoundMger.instance.playEffect("Pot_Appearing",!1)},3),this.scheduleOnce(function(){t.doPlayFadeinPot(),slot.SoundMger.instance.playEffect("Pot_Expanding",!1)},4.5),this.scheduleOnce(function(){t.doPlayLoopPot(),t.showAutoBtn()},5.7),slot.ScoreBase.instance.node.parent=this.node,slot.ScoreBase.instance.node.y=-640},t.prototype.onClose=function(){game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.LGACTIONRESP,this.onLgActionResp,this),slot.SoundMger.instance.stopEffect("Pot_Float_Sound"),slot.SoundMger.instance.stopMusic("Pot_Back_Music"),this.next(),slot.ScoreBase.instance.node.parent=c.default.instance.node,slot.ScoreBase.instance.node.y=-460},t.prototype.onLgActionResp=function(e,t){var n=this,o=(this._index=t.reward.index,this._reward=t.reward.result[0]);this.showList=t.reward.showList,this.scheduleOnce(function(){n.showRaward()},.5),this.scheduleOnce(function(){n.showOtherRaward()},1),this.openPot(o)},t.prototype.playReSpin=function(){var e=this,t=this.rewardRespinSprite.node;cc.tween(t).delay(1).call(function(){game.UIManager.getInstance().close(e)}).start()},t.prototype.playPowerToNotch=function(){var e=this,t=this.rewardPowerNode;t.opacity=255;var n=t.getChildByName("shine").getComponent(sp.Skeleton);n.node.active=!0,n.getComponent(sp.Skeleton).setAnimation(0,"shine",!1),n.node.scale=4;var o=s.default.instance.powerBar,i=o.node.parent.convertToWorldSpaceAR(o.node.position),a=t.parent.convertToNodeSpaceAR(i),r=o.node.width;a.x+=(.5+o.fillRange)*r,cc.tween(t).delay(1).to(.3,{position:a,scale:.4}).call(function(){n.setAnimation(0,"Fried",!1)}).delay(.1).call(function(){s.default.instance.addMp(3)}).to(1,{opacity:0}).call(function(){game.UIManager.getInstance().close(e)}).start()},t.prototype.playGemToNotch=function(){var e=this,t=this.rewardGemNode,n=t.getChildByName("gemLizi");n.active=!1;var o=s.default.instance.getGemNotch(),i=o.parent.convertToWorldSpaceAR(o.position),a=t.parent.convertToNodeSpaceAR(i),r=t.position,c=r.clone(),l=a.clone();c.x-=100,l.x-=100;var p=[cc.v2(r),cc.v2(c),cc.v2(a)],u=cc.bezierTo(.4,p),d=t.getChildByName("shine");d.active=!0,d.getComponent(sp.Skeleton).setAnimation(0,"red_shine",!1),cc.tween(t).delay(.5).call(function(){n.active=!0}).delay(.5).then(u).call(function(){d.getComponent(sp.Skeleton).setAnimation(0,"glow",!1)}).to(.2,{scale:.07}).to(.3,{scale:.06}).delay(.1).call(function(){slot.SoundMger.instance.playEffect("SoulStone_Get",!1),n.active=!1,s.default.instance.curGem+=1,s.default.instance.updateGem()}).to(.2,{opacity:0}).call(function(){game.UIManager.getInstance().close(e)}).start()},t.prototype.playCoinLabelToInfo=function(){var e=this,t=cc.v3(0,110,0),n=this.rewardCoinLabel.node.position,o=n.clone(),i=t.clone();o.x-=100,i.x-=100;var a=[cc.v2(n),cc.v2(o),cc.v2(t)],r=cc.bezierTo(.4,a);cc.tween(this.rewardCoinLabel.node).set({opacity:255}).delay(1).then(r).to(.2,{opacity:0}).call(function(){game.UIManager.getInstance().close(e)}).start()},a([u(cc.Sprite)],t.prototype,"autoSprite",void 0),a([u(sp.Skeleton)],t.prototype,"cutSp",void 0),a([u(sp.Skeleton)],t.prototype,"potAppearingSp",void 0),a([u(cc.Node)],t.prototype,"potNode",void 0),a([u(sp.Skeleton)],t.prototype,"potSp",void 0),a([u(sp.Skeleton)],t.prototype,"potFrontSp",void 0),a([u(cc.Node)],t.prototype,"potParentNode",void 0),a([u(cc.Node)],t.prototype,"rewardGemNode",void 0),a([u(cc.Node)],t.prototype,"rewardPowerNode",void 0),a([u(cc.Sprite)],t.prototype,"rewardRespinSprite",void 0),a([u(r.default)],t.prototype,"rewardCoinLabel",void 0),a([u(cc.Node)],t.prototype,"autoBtnHoverEffect",void 0),a([u(cc.Node)],t.prototype,"lightNode",void 0),a([u(cc.Node)],t.prototype,"liziNode",void 0),a([p],t)}(slot.AbstractBonusGameView);n.default=d,cc._RF.pop()},{"../common/NumAtlasLabel111001901":"NumAtlasLabel111001901","../game/GemCtrl111001901":"GemCtrl111001901","../main/Main111001901":"Main111001901"}],RockLayer111001901:[function(e,t,n){"use strict";cc._RF.push(t,"81fa3T7T9hElpDOTGyt9glZ","RockLayer111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../common/GameEventName111001901"),s=e("./GameLayer111001901"),c=e("./GemCtrl111001901"),l=cc._decorator,p=l.ccclass,u=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rootNode=null,t.itemNodes=[],t.snakeSpriteFrame=null,t.effectLayer=null,t.powerNode=[],t.gemNode=[],t.tailNode=[],t.shineSp=[],t}var n;return i(t,e),n=t,t.prototype.onLoad=function(){var e=this;n.instance=this,this.itemNodes.forEach(function(t,n){e.powerNode[n]=t.getChildByName("power"),e.gemNode[n]=t.getChildByName("gem"),e.tailNode[n]=t.getChildByName("tail"),e.shineSp[n]=t.getChildByName("shine").getComponent(sp.Skeleton)}),this.effectLayer=s.default.instance.effectLayer,this.reset()},t.prototype.onDestroy=function(){},t.prototype.reset=function(){var e=this;this.itemNodes.forEach(function(t){t.active=!1,t.scale=.65,t.opacity=255,t.getComponent(cc.Animation).enabled=!1,t.getComponent(cc.Sprite).spriteFrame=e.snakeSpriteFrame}),this.powerNode.forEach(function(e){e.active=!1}),this.gemNode.forEach(function(e){e.active=!1}),this.tailNode.forEach(function(e){e.active=!0}),this.shineSp.forEach(function(e){e.node.active=!1})},t.prototype.showItem=function(e,t){console.log("showItem id = ",t),this.itemNodes[e].active=!0,this.powerNode[e].active=t==r.ELgId111001901.STONE_ROLLER_POWER,this.gemNode[e].active=t==r.ELgId111001901.STONE_ROLLER_GEM,slot.SoundMger.instance.playEffect("Reel_Snake_Symbol",!1),slot.SpinManager.instance.isInTurbo?this.itemNodes[e].y=0:(this.itemNodes[e].y=200,cc.tween(this.itemNodes[e]).to(.2,{y:0}).start()),t==r.ELgId111001901.STONE_ROLLER_GEM&&slot.SoundMger.instance.playEffect("SoulStone_Come_Out",!1)},t.prototype.playShine=function(){var e=this;this.itemNodes.forEach(function(t,n){t.active&&(e.powerNode[n].active&&(e.shineSp[n].node.active=!0,e.shineSp[n].setAnimation(0,"shine",!1)),e.gemNode[n].active&&(e.shineSp[n].node.active=!0,e.shineSp[n].setAnimation(0,"red_shine",!1)))})},t.prototype.playStoneBreak=function(){var e=this;this.itemNodes.forEach(function(t,n){t.active&&(t.getComponent(cc.Animation).enabled=!0,t.getComponent(cc.Animation).play("stone_break2"),e.powerNode[n].active&&(e.playPowerToNotch(e.powerNode[n]),slot.SoundMger.instance.playEffect("Blue_Potion_Bounce",!1),e.powerNode[n].active=!1),e.gemNode[n].active&&(e.playGemToNotch(e.gemNode[n]),slot.SoundMger.instance.playEffect("SoulStone_Bounce_Out",!1),e.gemNode[n].active=!1),e.tailNode[n].active=!1)}),slot.SoundMger.instance.playEffect("Reel_Snake_Symbol_Crack",!1)},t.prototype.playPowerToNotch=function(e){var t=cc.instantiate(e);t.parent=this.effectLayer,t.scale=.65;var n=e.parent.convertToWorldSpaceAR(e.position);t.position=t.parent.convertToNodeSpaceAR(n);var o=cc.instantiate(this.shineSp[0].node);o.parent=t,o.active=!1,o.x=0,o.y=0,o.scale=4;var i=c.default.instance.powerBar;n=i.node.parent.convertToWorldSpaceAR(i.node.position);var a=t.parent.convertToNodeSpaceAR(n),r=i.node.width;a.x+=(.5+i.fillRange)*r,cc.tween(t).to(.3,{position:a,scale:.4}).call(function(){o.active=!0,o.getComponent(sp.Skeleton).setAnimation(0,"Fried",!1)}).delay(.1).call(function(){c.default.instance.updatePower(!0)}).to(1,{opacity:0}).removeSelf().start()},t.prototype.playGemToNotch=function(e){var t=cc.instantiate(e);t.parent=this.effectLayer,t.scale=.65;var n=e.parent.convertToWorldSpaceAR(e.position);t.position=t.parent.convertToNodeSpaceAR(n);var o=c.default.instance.getGemNotch();n=o.parent.convertToWorldSpaceAR(o.position);var i=t.parent.convertToNodeSpaceAR(n),a=cc.instantiate(this.shineSp[0].node);a.parent=t,a.active=!1,a.x=0,a.y=0,a.scale=3,cc.tween(t).to(.3,{position:i}).call(function(){a.active=!0,a.getComponent(sp.Skeleton).setAnimation(0,"glow",!1)}).to(.2,{scale:.7}).to(.3,{scale:.65}).delay(.1).call(function(){slot.SoundMger.instance.playEffect("SoulStone_Get",!1),o.opacity=255}).removeSelf().start()},t.instance=null,a([u(cc.Node)],t.prototype,"rootNode",void 0),a([u(cc.Node)],t.prototype,"itemNodes",void 0),a([u(cc.SpriteFrame)],t.prototype,"snakeSpriteFrame",void 0),n=a([p],t)}(slot.BaseView);n.default=d,cc._RF.pop()},{"../common/GameEventName111001901":"GameEventName111001901","./GameLayer111001901":"GameLayer111001901","./GemCtrl111001901":"GemCtrl111001901"}],RollerItem111001901:[function(e,t,n){"use strict";cc._RF.push(t,"fb95fVsOL9EbYmguqIfHHVA","RollerItem111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../game/EffectLayer111001901"),s=e("../game/GameLayer111001901"),c=e("../roller/GameRoller111001901"),l=cc._decorator,p=l.ccclass,u=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.atlas=null,t.frameNode=null,t.bgNode=null,t.bgAnima=null,t.elemSprite=[],t.crackNode=null,t.breakAnima=null,t.breakLizi=[],t.index=0,t.rollerId=0,t.stoneData=null,t.stoneCount=0,t}return i(t,e),t.prototype.onLoad=function(){var e=this;this.bgAnima.on(cc.Animation.EventType.FINISHED,function(){e.bgNode.active=!0,e.bgAnima.node.active=!1}),this.breakAnima.on(cc.Animation.EventType.FINISHED,function(){e.breakAnima.node.active=!1,e.node.active=!1}),this.crackNode.children.forEach(function(t){var n=t.getComponent(cc.ParticleSystem);e.breakLizi.push(n)})},t.prototype.reset=function(){this.stoneCount=0},t.prototype.hide=function(){this.node.active=!1},t.prototype.show=function(){this.node.active=!0,this.frameNode.active=!0},t.prototype.setStoneCount=function(e){this.stoneCount=e,2==this.stoneCount?(this.playStoneFadein(),this.crackNode.active=!1):(this.bgNode.active=!0,this.playCrack(),this.crackNode.active=!0)},t.prototype.resetStoneCount=function(e){this.stoneCount=e,this.bgNode.active=!0,this.crackNode.active=!1,1==this.stoneCount&&(this.crackNode.active=!0)},t.prototype.setElement=function(e){var t=this;e.forEach(function(e,n){t.elemSprite[n].spriteFrame=t.atlas.getSpriteFrame("e"+e)})},t.prototype.bind=function(e){if(this.stoneData=e,this.stoneData){this.show();var t=c.default.instance.grid,n=3*(e.rollerId-1),o=t.slice(n,n+3);this.setElement(o),this.setStoneCount(e.remainRound)}else this.hide()},t.prototype.setData=function(e){if(this.stoneData=e,this.stoneData){this.show();var t=c.default.instance.grid,n=3*(e.rollerId-1),o=t.slice(n,n+3);this.setElement(o),this.resetStoneCount(e.remainRound)}else this.hide()},t.prototype.playBreakStone=function(){this.show(),this.frameNode.active=!1,this.breakAnima.node.active=!0,this.breakAnima.play("stone_break_free"),slot.SoundMger.instance.playEffect("Curse_Reel_Crack",!1),this.scheduleOnce(function(){slot.SoundMger.instance.playEffect("Perseus_Destroy_Reel",!1)},.3)},t.prototype.playStoneFadein=function(){this.bgAnima.node.active=!0,this.bgNode.active=!1,this.bgAnima.play("reel_petrifying"),slot.SoundMger.instance.playEffect("Curse_Reel_Clot",!1)},t.prototype.playCrack=function(){r.default.instance.playRing(this.index-2),s.default.instance.runWaveByRoller(this.index-1),slot.SoundMger.instance.playEffect("Curse_Reel_Crack",!1),this.breakLizi.forEach(function(e){e.resetSystem()})},a([u(cc.SpriteAtlas)],t.prototype,"atlas",void 0),a([u(cc.Node)],t.prototype,"frameNode",void 0),a([u(cc.Node)],t.prototype,"bgNode",void 0),a([u(cc.Animation)],t.prototype,"bgAnima",void 0),a([u(cc.Sprite)],t.prototype,"elemSprite",void 0),a([u(cc.Node)],t.prototype,"crackNode",void 0),a([u(cc.Animation)],t.prototype,"breakAnima",void 0),a([p],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../game/EffectLayer111001901":"EffectLayer111001901","../game/GameLayer111001901":"GameLayer111001901","../roller/GameRoller111001901":"GameRoller111001901"}],Shake111001901:[function(e,t,n){"use strict";cc._RF.push(t,"86db2METiZAWoQl3LhaJFs2","Shake111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.Shake111001901=void 0;var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._initial_x=0,t._initial_y=0,t._strength_x=0,t._strength_y=0,t}var n;return i(t,e),n=t,t.create=function(e,t,o){var i=new n;return i.initWithDuration(e,t,o),i},t.prototype.initWithDuration=function(e,t,n){return cc.ActionInterval.prototype.initWithDuration.apply(this,arguments),this._strength_x=t,this._strength_y=n,!0},t.prototype.fgRangeRand=function(e,t){return Math.random()*(t-e)+e},t.prototype.update=function(){var e=this.fgRangeRand(-this._strength_x,this._strength_x),t=this.fgRangeRand(-this._strength_y,this._strength_y);this.getTarget().setPosition(e+this._initial_x,t+this._initial_y)},t.prototype.startWithTarget=function(e){cc.ActionInterval.prototype.startWithTarget.apply(this,arguments),this._initial_x=e.x,this._initial_y=e.y},t.prototype.stop=function(){this.getTarget().setPosition(new cc.Vec2(this._initial_x,this._initial_y)),cc.ActionInterval.prototype.stop.apply(this)},n=a([s],t)}(cc.ActionInterval));n.Shake111001901=c,cc._RF.pop()},{}],SpinSlotViewExtend111001901:[function(e,t,n){"use strict";cc._RF.push(t,"32be0vc0edONqUu4Uh58X3x","SpinSlotViewExtend111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,a){function r(e){try{c(o.next(e))}catch(t){a(t)}}function s(e){try{c(o.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,s)}c((o=o.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var n,o,i,a,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(e){return function(t){return c([e,t])}}function c(a){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=2&a[0]?o.return:a[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,a[1])).done)return i;switch(o=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return r.label++,{value:a[1],done:!1};case 5:r.label++,o=a[1],a=[0];continue;case 7:a=r.ops.pop(),r.trys.pop();continue;default:if(!(i=(i=r.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){r=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){r.label=a[1];break}if(6===a[0]&&r.label<i[1]){r.label=i[1],i=a;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(a);break}i[2]&&r.ops.pop(),r.trys.pop();continue}a=t.call(e,r)}catch(s){a=[6,s],o=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=e("../common/ElementBg111001901"),c=e("../common/GameEventName111001901"),l=e("../common/Shake111001901"),p=e("../game/GameLayer111001901"),u=function(e){function t(){var t=e.call(this)||this;return t._frameAniNode=null,t._frameUrsNode=null,t._effectNode=new Map,t._elemFrame=null,t.isBlur=!0,t.isFade=!1,t.needCenter=!0,t.isFadeMask=!1,t.skinLoader.skeletonNode.scale=.7,t}return i(t,e),t.prototype.useChangedData=function(){this.data=this.changedData},t.prototype.onPlayAnimation=function(){if(this.data<=4){var e="zm_"+["","J","Q","K","A"][this.data];p.default.instance.isAllShow&&(e+="2"),this.setAnimation(slot.JTGLoaderAssetType.Skeleton,e,!0),this.skinLoader.skeletonNode.scale=1.2}else 10==this.data||7==this.data?(p.default.instance.isAllShow?this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"default_static",!1):this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"default",!1),this.skinLoader.skeletonNode.scale=1):11==this.data||(this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"default",!1),this.skinLoader.skeletonNode.scale=.6);this.data>=5&&game.EventManager.getInstance().raiseEvent(c.EventName.COLLECT_ELEM,this),this.showFrameAniView()},t.prototype.onPlayLineCall=function(){this.showUrsFrame()},t.prototype.onRollEnd=function(e){void 0===e&&(e=!0);var t=this.index;Math.ceil(t/3),this.data!=this.changedData&&10!=this.changedData&&(this.data=this.changedData),this._elemFrame.node.parent=p.default.instance.frameLayer,this._elemFrame.node.x=70.5+141*Math.floor(this.index/3),this._elemFrame.node.y=-83.5-167*Math.floor(this.index%3),11==this.data&&(this._elemFrame.node.active=!1)},t.prototype.hideSkin=function(){this.skinLoader.active=!1},t.prototype.showSkin=function(){this.skinLoader.active=!0},t.prototype.stoneFrame=function(){this.showElemFrame("block_snake",.61),this._elemFrame.node.scaleY=.64},t.prototype.onSpinComplete=function(){},t.prototype.runLeftMove=function(){cc.Tween.stopAllByTarget(this.skinLoader),cc.tween(this.skinLoader).set({x:0}).to(.2,{x:-20}).to(.2,{x:0}).set({x:0}).start()},t.prototype.runRightMove=function(){cc.Tween.stopAllByTarget(this.skinLoader),cc.tween(this.skinLoader).set({x:0}).to(.2,{x:20}).to(.2,{x:0}).set({x:0}).start()},t.prototype.onNewElemDropEnd=function(){cc.log("onNewElemDropEnd")},t.prototype.stopRewardsAnimation=function(){e.prototype.stopRewardsAnimation.call(this),this.recover()},t.prototype.onStopAnimation=function(){this.recover()},t.prototype.onStopWildAnimation=function(){this.gotoAndStop(slot.JTGLoaderAssetType.SpriteFrame)},t.prototype.onStartRoll=function(){},t.prototype.showFrameAniView=function(){return a(this,void 0,void 0,function(){var e,t;return r(this,function(n){switch(n.label){case 0:return this._frameAniNode?[3,2]:(e=this,[4,this.createSpineNode("spine/game/element/wind",!1)]);case 1:e._frameAniNode=n.sent(),this._frameAniNode.scale=1.05,n.label=2;case 2:return this._frameAniNode.active=!0,this._frameAniNode.getComponent(sp.Skeleton).setAnimation(0,"animation",!0),(t=this._effectNode.get("lizi"))?[3,4]:[4,this.createLiziNode("spine/game/element/lizi/win_partlice",!1)];case 3:t=n.sent(),this._effectNode.set("lizi",t),n.label=4;case 4:return t.active=!0,t.getComponent(cc.ParticleSystem).resetSystem(),[2]}})})},t.prototype.showUrsFrame=function(){this._frameUrsNode?this._frameUrsNode.active=!0:(this._frameUrsNode=this.createSpriteNode("textures/card/PayLine_Unpaid","pay_select_gray",!1),this._frameUrsNode.parent=p.default.instance.winEffectLayer,this._frameUrsNode.position=this.position)},t.prototype.recoverSlotFrameAniView=function(){this._frameAniNode&&(this._frameAniNode.removeFromParent(),this._frameAniNode=null),this._frameUrsNode&&(this._frameUrsNode.removeFromParent(),this._frameUrsNode=null),this._elemFrame&&(this._elemFrame.node.x=0,this._elemFrame.node.y=0,this.addEffectNode(this._elemFrame.node,!1))},t.prototype.createSpineNode=function(e,t){return void 0===t&&(t=!1),a(this,void 0,Promise,function(){var n;return r(this,function(){return/wind/.test(e)&&(n=cc.instantiate(p.default.instance.windSKe)),this.addEffectNode(n,t),n.active=!0,n.name="win",[2,n]})})},t.prototype.createSpriteNode=function(e,t,n){void 0===n&&(n=!1);var o=new cc.Node;o.name="win",o.scaleX=1.05,o.scaleY=1.15,this.addEffectNode(o,n);var i=o.addComponent(cc.Sprite);return game.ResLoader.getInstance().loadRes(e,cc.SpriteAtlas,null,function(e,n){e||(i.spriteFrame=n.getSpriteFrame(t))},slot.GData.bundleName),o},t.prototype.createLiziNode=function(e,t){return void 0===t&&(t=!1),a(this,void 0,Promise,function(){var n,o;return r(this,function(){return(n=new cc.Node).name="win",this.addEffectNode(n,t),o=n.addComponent(cc.ParticleSystem),[2,new Promise(function(t,i){game.ResLoader.getInstance().loadRes(e,cc.ParticleAsset,null,function(e,a){if(e)return i("error: "+e),e;o.file=a,t(n)},slot.GData.bundleName)})]})})},t.prototype.recover=function(){var e;for(this.recoverSlotFrameAniView();e=this.children[0].getChildByName("win");)e.removeFromParent();for(;e=this.children[2].getChildByName("win");)e.removeFromParent();this._effectNode.forEach(function(e){e.removeFromParent()}),this._effectNode.clear(),this.parent=this.owner},t.prototype.playWinCoin=function(t,n,o){e.prototype.playWinCoin.call(this,t,n,o)},t.prototype.shake=function(){var e=l.Shake111001901.create(.5,4,4);this.runAction(e)},t.prototype.getElemFrame=function(){if(this._elemFrame)return this._elemFrame;var e=new cc.Node;return this._elemFrame=e.addComponent(s.default),this.addEffectNode(e,!1),this._elemFrame},t.prototype.showElemFrame=function(e,t){void 0===t&&(t=1);var n=this.getElemFrame();n.node.active=!0,n.setFrame(e),n.node.scale=t},t.prototype.hideElemFrame=function(){this._elemFrame.node.active=!1},t.prototype.onDataOrStageChange=function(){this.currentFrame==slot.JTItemRender.STATE_ROLLING?this.showElemFrame("block_blur",1.2):this.currentFrame==slot.JTItemRender.STATE_DEFAULT?(this.showElemFrame("block",.615),this._frameUrsNode&&(this._frameUrsNode.active=!1)):this.currentFrame==slot.JTItemRender.STATE_OVER&&(this._frameUrsNode&&(this._frameUrsNode.active=!1),this.parent=this.owner)},t}(slot.SpinSlotView);n.default=u,cc._RF.pop()},{"../common/ElementBg111001901":"ElementBg111001901","../common/GameEventName111001901":"GameEventName111001901","../common/Shake111001901":"Shake111001901","../game/GameLayer111001901":"GameLayer111001901"}],StoneLayer111001901:[function(e,t,n){"use strict";cc._RF.push(t,"94920MNH+ZNYLZ3Kqw1eu+i","StoneLayer111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./RollerItem111001901"),s=e("./WildLayer111001901"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rollers=[],t.data=[],t}var n;return i(t,e),n=t,t.prototype.onLoad=function(){n.instance=this,window.stoneLayer=this,this.reset()},t.prototype.reset=function(){this.rollers.forEach(function(e,t){e.hide(),e.index=t})},t.prototype.setData=function(e){var t=this;this.reset(),this.data=e,this.rollers.forEach(function(e){e.hasWild||e.hide()}),e.forEach(function(e){t.rollers[e.rollerId].bind(e)})},t.prototype.playBreak=function(e){this.rollers[e].playBreakStone(),s.default.instance.showWild(e)},t.prototype.resetData=function(e){var t=this;this.reset(),this.data=e,this.rollers.forEach(function(e){e.hasWild||e.hide()}),e.forEach(function(e){t.rollers[e.rollerId].setData(e)})},t.instance=null,a([p(r.default)],t.prototype,"rollers",void 0),n=a([l],t)}(cc.Component);n.default=u,cc._RF.pop()},{"./RollerItem111001901":"RollerItem111001901","./WildLayer111001901":"WildLayer111001901"}],UpdateWin111001901:[function(e,t,n){"use strict";cc._RF.push(t,"870ebwuij5ErbhS0PtgUgST","UpdateWin111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../common/GameEventName111001901"),s=e("../common/NumAtlasLabel111001901"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.winNode=null,t.winNumAtlas=null,t.win=null,t.twin=null,t.xinXiSp=null,t.winLayout=null,t.xinxiLizi=null,t}var n;return i(t,e),n=t,Object.defineProperty(t,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){game.EventManager.getInstance().addEventListener(r.EventName.EVENT_UPDATE_BANNER_WINSCORE,this.onUpdateWin,this),game.EventManager.getInstance().addEventListener(r.EventName.GAME_SPIN_START,this.onGameSpinStart,this),game.EventManager.getInstance().addEventListener(r.EventName.GAME_SPIN_STOP,this.onGameSpinStop,this),n._instance=this,this.hide()},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_UPDATE_BANNER_WINSCORE,this.onUpdateWin,this),game.EventManager.getInstance().removeEventListener(r.EventName.GAME_SPIN_START,this.onGameSpinStart,this),game.EventManager.getInstance().removeEventListener(r.EventName.GAME_SPIN_STOP,this.onGameSpinStop,this)},t.prototype.onUpdateWin=function(e,t,n){if(t<=0)return this.hide();this.show(),slot.SpinManager.instance,this.playWinFrameEffect(t),this.setWin5MoneyNum(t,n)},t.prototype.playWinFrameEffect=function(e){var t=e<5*slot.SpinManager.instance.betCost?1:2,n=this.xinXiSp;n.node.active=!0,n.node.opacity=255,1==t?(n.setAnimation(0,"xxl1",!1),slot.SoundMger.instance.playEffect("Small_Win",!1),this.xinxiLizi.resetSystem()):(n.setAnimation(0,"xxl2_inort",!1),n.addAnimation(0,"xxl2_fireloop",!0),slot.SoundMger.instance.playEffect("Mid_Win",!1)),cc.Tween.stopAllByTarget(n.node),cc.tween(n.node).delay(3).to(.4,{opacity:0}).start()},t.prototype.setWin5MoneyNum=function(e,t){var n=this;e>=2*slot.SpinManager.instance.betCost?(this.winNumAtlas.curNum=0,this.hideLabel(),slot.SoundMger.instance.playEffect("Gold_Accumulation_Sound",!1),this.showLabelAcitve(1),this.winNumAtlas.runToNumber(e,1,function(){t&&t.run(),n.showWLabel(),slot.SoundMger.instance.stopEffect("Gold_Accumulation_Sound"),n.showLabelAcitve(2),n.xinXiSp.setAnimation(0,"xxl2_out",!1)})):(this.showWLabel(),this.winNumAtlas.curNum=e,this.showLabelAcitve(2))},t.prototype.hide=function(){return this.winNode.active=!1,this.xinXiSp.node.active=!1,!1},t.prototype.show=function(){this.winNode.active=!0},t.prototype.showLabelAcitve=function(e){cc.Tween.stopAllByTarget(this.winLayout),1==e?cc.tween(this.winLayout).set({scaleX:.5,scaleY:0}).to(.3,{scaleX:1.2,scaleY:1}).to(.2,{scaleX:1,scaleY:1}).start():2==e&&cc.tween(this.winLayout).set({scaleX:1,scaleY:1}).to(.2,{scaleX:1.2,scaleY:1.2}).to(.1,{scaleX:1,scaleY:1}).start()},t.prototype.showTwCoin=function(e){this.show(),this.winNumAtlas.curNum=e,this.showTwLabel(),this.playWinFrameEffect(e)},t.prototype.showWinCoin=function(e){this.show(),this.winNumAtlas.curNum=e,this.showWLabel()},t.prototype.showTwLabel=function(){this.twin.active=!0,this.win.active=!1},t.prototype.showWLabel=function(){this.win.active=!0,this.twin.active=!1},t.prototype.hideLabel=function(){this.win.active=!1,this.twin.active=!1},t.prototype.onGameSpinStop=function(){},t.prototype.onGameSpinStart=function(){this.hide()},a([p({type:cc.Node})],t.prototype,"winNode",void 0),a([p(s.default)],t.prototype,"winNumAtlas",void 0),a([p(cc.Node)],t.prototype,"win",void 0),a([p(cc.Node)],t.prototype,"twin",void 0),a([p(sp.Skeleton)],t.prototype,"xinXiSp",void 0),a([p(cc.Node)],t.prototype,"winLayout",void 0),a([p(cc.ParticleSystem)],t.prototype,"xinxiLizi",void 0),n=a([l],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../common/GameEventName111001901":"GameEventName111001901","../common/NumAtlasLabel111001901":"NumAtlasLabel111001901"}],Wild2Item111001901:[function(e,t,n){"use strict";cc._RF.push(t,"73b79Fe8a5Pxqt/7NuMWY2v","Wild2Item111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../game/GameLayer111001901"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._index=0,t}return i(t,e),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},set:function(e){this._index=e},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){var e=this;this.node.getComponent(cc.Animation).on(cc.Animation.EventType.FINISHED,function(){r.default.instance.scroller.getRenderByIndex(e.index).useChangedData(),e.node.active=!1})},t.prototype.play=function(e){this.node.active=!0,slot.SoundMger.instance.playEffect("Roulette_Fire_To_Symbol_Bounce",!1),this.node.getComponent(cc.Animation).play(e)},a([c],t)}(cc.Component));n.default=l,cc._RF.pop()},{"../game/GameLayer111001901":"GameLayer111001901"}],Wild2Layer111001901:[function(e,t,n){"use strict";cc._RF.push(t,"bb340lAj0pOUY0UE2WDI0KR","Wild2Layer111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../common/GameEventName111001901"),s=e("./Wild2Item111001901"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wild2Item=[],t.animaName="wild_en",t}var n;return i(t,e),n=t,t.prototype.onLoad=function(){n.instance=this,"zh"==slot.GData.curLanguage&&(this.animaName="wild_zh"),this.wild2Item.forEach(function(e,t){e&&(e.index=t)}),game.EventManager.getInstance().addEventListener(r.EventName.ANIMA_EVENT_FREE2WILD_SHOOT,this.onWildShoot,this),this.reset()},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.EventName.ANIMA_EVENT_FREE2WILD_SHOOT,this.onWildShoot,this)},t.prototype.reset=function(){this.wild2Item.forEach(function(e){e&&(e.node.active=!1)})},t.prototype.playWildEffect=function(e){this.wild2Item[e]?this.wild2Item[e].play(this.animaName):console.error("playWildEffect \u627e\u4e0d\u5230index:",e)},t.prototype.onWildShoot=function(e,t){var n=this;this.scheduleOnce(function(){n.playWildEffect(t)},.5)},t.instance=null,a([p(s.default)],t.prototype,"wild2Item",void 0),n=a([l],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../common/GameEventName111001901":"GameEventName111001901","./Wild2Item111001901":"Wild2Item111001901"}],WildItem111001901:[function(e,t,n){"use strict";cc._RF.push(t,"e390e+XVRJBaZA4dDA6boTO","WildItem111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../common/GameEventName111001901"),s=e("../game/GameLayer111001901"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.atlas=null,t.wildBg=null,t.wildWordSprite=null,t.wildEnter=null,t.wildCountSprite=null,t.wildFire=null,t.winFrame=null,t.numAddSp=null,t.index=0,t.wildData=null,t.wildCount=0,t}return i(t,e),t.prototype.onLoad=function(){var e=this,t=slot.GData.curLanguage;this.wildWordSprite.spriteFrame="zh"==t?this.atlas.getSpriteFrame("wild_word"):this.atlas.getSpriteFrame("wild_word_en"),this.wildEnter.on(cc.Animation.EventType.FINISHED,function(){slot.SoundMger.instance.playEffect("Perseus_Wild_Expand_Vocal",!1),cc.tween(e.wildWordSprite.node).set({scale:0}).to(.3,{scale:.6}).start()})},t.prototype.onEnable=function(){game.EventManager.getInstance().addEventListener(r.EventName.GAME_SPIN_START,this.onGameSpinStart,this),slot.SoundMger.instance.playEffect("Reel_Wild_Fire",!0)},t.prototype.onDisable=function(){game.EventManager.getInstance().removeEventListener(r.EventName.GAME_SPIN_START,this.onGameSpinStart,this),slot.SoundMger.instance.stopEffect("Reel_Wild_Fire")},t.prototype.reset=function(){this.wildCount=0,this.winFrame.active=!1},t.prototype.hide=function(){this.node.active=!1,this.winFrame.active=!1},t.prototype.show=function(){this.node.y=0,this.node.active=!0},t.prototype.setWildCount=function(e){var t=this;this.wildCount=e,this.wildFire.play("wild_fire"),3==this.wildCount?(this.wildWordSprite.node.scale=0,this.playWildAnimation(),this.bindWildCount(1),slot.SoundMger.instance.playEffect("Perseus_Sword_Hit_Combo",!1),cc.tween(this.wildCountSprite.node).set({opacity:0}).delay(1).set({opacity:255}).call(function(){t.numAddSp.setAnimation(0,"yanhua",!1)}).to(.2,{scale:.5}).to(.2,{scale:.7}).call(function(){t.bindWildCount(2)}).call(function(){t.numAddSp.setAnimation(0,"yanhua",!1),slot.SoundMger.instance.playEffect("Perseus_Wild_Hit_Shield",!1)}).to(.2,{scale:.5}).to(.2,{scale:.7}).call(function(){t.bindWildCount(3)}).call(function(){t.numAddSp.setAnimation(0,"yanhua",!1),slot.SoundMger.instance.playEffect("Perseus_Wild_Hit_Shield",!1)}).to(.2,{scale:.5}).to(.2,{scale:.7}).start()):(this.wildEnter.node.active=!1,this.bindWildCount(e),this.wildWordSprite.node.scale=.6)},t.prototype.bindWildCount=function(e){this.wildCountSprite.spriteFrame=this.atlas.getSpriteFrame("wild_count_"+e)},t.prototype.setStoneCount=function(e){this.stoneCount=e,2==this.stoneCount?(this.playStoneFadein(),this.crackNode.active=!1):this.crackNode.active=!0},t.prototype.setElement=function(e){var t=this;e.forEach(function(e,n){t.elemSprite[n].spriteFrame=t.atlas.getSpriteFrame("e"+e)})},t.prototype.setRound=function(e){this.wildCount=e,this.show(),this.setWildCount(e)},t.prototype.resetRound=function(e){this.wildCount=e,this.show(),this.bindWildCount(e)},t.prototype.playWildAnimation=function(){this.wildEnter.node.active=!0,this.wildEnter.play("wild_perseus")},t.prototype.onGameSpinStart=function(){var e=this;if(s.default.instance.scroller.items[this.index].active=!0,this.node.active){var t=.2*this.index;1==this.wildCount&&cc.tween(this.node).delay(t).to(.2,{y:20}).to(.5,{y:-500}).call(function(){e.hide()}).start()}this.winFrame.active=!1},a([p(cc.SpriteAtlas)],t.prototype,"atlas",void 0),a([p(cc.Node)],t.prototype,"wildBg",void 0),a([p(cc.Sprite)],t.prototype,"wildWordSprite",void 0),a([p(cc.Animation)],t.prototype,"wildEnter",void 0),a([p(cc.Sprite)],t.prototype,"wildCountSprite",void 0),a([p(cc.Animation)],t.prototype,"wildFire",void 0),a([p(cc.Node)],t.prototype,"winFrame",void 0),a([p(sp.Skeleton)],t.prototype,"numAddSp",void 0),a([l],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../common/GameEventName111001901":"GameEventName111001901","../game/GameLayer111001901":"GameLayer111001901"}],WildLayer111001901:[function(e,t,n){"use strict";cc._RF.push(t,"c0beeEcMKpKi4etDNJAE7jA","WildLayer111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./WildItem111001901"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rollers=[],t.data=[],t}var n;return i(t,e),n=t,t.prototype.onLoad=function(){n.instance=this,window.wildLayer=this,this.rollers.forEach(function(e,t){e.index=t-1}),this.reset()},t.prototype.reset=function(){this.rollers.forEach(function(e){e.hide()})},t.prototype.setData=function(e){this.data=e;var t=this;e.forEach(function(e){e.remainRound<3&&t.rollers[e.rollerId].setRound(e.remainRound)})},t.prototype.resetData=function(e){this.data=e;var t=this;e.forEach(function(e){e.remainRound<3&&t.rollers[e.rollerId].resetRound(e.remainRound)})},t.prototype.showWild=function(e){this.rollers[e].setRound(3)},t.instance=null,a([l(r.default)],t.prototype,"rollers",void 0),n=a([c],t)}(cc.Component);n.default=p,cc._RF.pop()},{"./WildItem111001901":"WildItem111001901"}],WinAnimation111001901:[function(e,t,n){"use strict";cc._RF.push(t,"ecb19gDVfVIgLnaDO7afIjd","WinAnimation111001901");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../common/MultiPSRandomRefresh"),s=e("./GameRoller111001901"),c=cc._decorator,l=c.ccclass,p=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.playWinStart=function(){this.playCoinAni(!0)},t.prototype.playWinTextFadeIn=function(t,n){return t.anchorY=0,n>=slot.WinAniType.Middle&&slot.SoundMger.instance.playEffect("Prize_Mega_Text",!1),e.prototype.playWinTextFadeIn.call(this,t,n)},t.prototype.onPlayFinalAnimation=function(){this.getWinTextNode().anchorY=0},t.prototype.onCoinIncreaseEnd=function(){this.getWinTextNode().anchorY=0},t.prototype.playFadeOut=function(t){this.playCoinAni(!1),e.prototype.playFadeOut.call(this,t)},t.prototype.playCoinAni=function(e){var t=this.getCustomLayerNode().getChildByName("coinAniNode");t||((t=cc.instantiate(s.default.instance.bigWinPrefab)).parent=this.getCustomLayerNode(),t.position=cc.v3(),t.active=!0);var n=t.getChildByName("coin").getComponent(r.default);e?n.onResetSystem():n.onStopSystem()},a([l],t)}(slot.WinAniManager));n.default=p,cc._RF.pop()},{"../common/MultiPSRandomRefresh":"MultiPSRandomRefresh","./GameRoller111001901":"GameRoller111001901"}]},{},["Banner111001901","BatchMgr111001901","ComUtils111001901","ElementBg111001901","Fluxay111001901","GameEventName111001901","JTScattask11105701","LanguageCore111001901","LanguageInfo111001901","MultiPSRandomRefresh","NumAtlasLabel111001901","Shake111001901","FreeAgain111001901","FreeResult111001901","FreeStart111001901","FreeTimeAdd111001901","RollerItem111001901","StoneLayer111001901","Wild2Item111001901","Wild2Layer111001901","WildItem111001901","WildLayer111001901","Free1Bg111001901","Free2Bg111001901","FreeBottom111001901","GameBg111001901","MedusaAnima111001901","NormalBg111001901","AdjustUI111001901","CollectElem111001901","EffectLayer111001901","ElementLayer111001901","FiveLine111001901","GameLayer111001901","GameSound111001901","GemCtrl111001901","RockLayer111001901","UpdateWin111001901","PotGame111001901","Main111001901","GameRoller111001901","SpinSlotViewExtend111001901","WinAnimation111001901","JTChildManager111001901","JTLayerManager111001901","JTLineAttack111001901","JTLogicFactroy111001901","JTMedusaEnter111001901","JTMedusaStone111001901","JTMedusaWild111001901","JTPXSBeginSpin111001901","JTPXSWild111001901","JTRockRoller111001901"]);